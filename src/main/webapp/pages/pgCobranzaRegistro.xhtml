<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	

<h:head>
	<link href="../resources/css/estilo.css" rel="stylesheet"
		type="text/css" />		
	<title>SBLM</title>
</h:head>

<h:body>

	<div class="carterasubpestanas">
		<p:commandLink id="idTabRegistroConsulta" styleClass="btnRegistro" 
			onclick="funcionTabRegistroConsulta();">
			<div class="btncentrado">
				<p:outputLabel value="Consulta"
					style="margin-bottom:10px;  float:left;margin-left:5px;" />
				<p:graphicImage value="/resources/images/cobranza/icon_consulta.png"
					alt="Consulta" title="Consulta" />
			</div>
		</p:commandLink>
		<p:commandLink id="idTabRegistroRegistro" styleClass="btnRegistro2" rendered="#{carteraMB.visibleCobranzaRegistro}"
			onclick="funcionTabRegistroRegistro();">
			<div class="btncentrado">
				<p:outputLabel value="Registro"
					style="margin-bottom:10px; float:left;margin-left:5px;" />
				<p:graphicImage value="/resources/images/cobranza/icon_registro.png"
					alt="Registro" title="Registro" />
			</div>
		</p:commandLink>

	</div>

	<div id="idDivRegistroRegistro" class="recau_panelPendientes">

		<div class="filaBtnNuevoCartera">
			<div style="float: left; margin-left: 35px;">
				<h:outputText value="Registro de Pago" rendered="#{carteraMB.visibleCobranzaRegistro}"/>
			</div>
		</div>

		<div class="mante_gene_ContDescrip01">
			<div class="cobranza_cartera_contenidoDatos">
				<div class="contenidoConsultaRegistroComprobante" >

					<h:form id="frmRegistroCabecera" rendered="#{carteraMB.visibleCobranzaRegistro}">
						<p:focus context="tabCartera" />
						<p:tabView id="tabCartera" style="margin-top:10px;margin-right:50px;" effect="slide">

							<p:tab id="tab1" title="Pago Renta">

								<h:panelGrid columns="3">
									<h:outputText value="Clave:" />
									<p:remoteCommand name="test"
										actionListener="#{carteraMB.obtenerListaContratosDeUpa}"
										update="listacontratosupa" />
									<p:inputMask mask="**-****-***" value="#{carteraMB.claveupa}"
										onkeypress="if (event.keyCode == 13) { test(); return false; }"
										style="width:100px;text-align:center;font-size:15px;">
									</p:inputMask>
								</h:panelGrid>
								
								<p:dataTable id="listacontratosupa" var="condicion"
									selectionMode="single" rowKey="#{condicion.idcontrato}"
									value="#{carteraMB.listaContratosDeUpa}"
									selection="#{carteraMB.condicionSeleccionado}"
									style="text-align:center;font-size:11px;margin-top:10px;width:630px"
									emptyMessage="La upa no registra ning&uacute;n contrato,precontrato o sin contrato"
									scrollWidth="630" styleClass="ui-datatable-hor-scroll"
									rowStyleClass="#{condicion.estado le 'ANULADO' ? 'red':null }"
									>
									
									<p:ajax event="rowSelect"
										update=":frmRegistroCabecera:infoContrato,:frmRegistroCabecera:condicion,:frmRegistroCabecera:listaTodosPagosEdicion"
										listener="#{carteraMB.settingNombreCartera}" />

									 <p:columnGroup type="header">
									  <p:row>
						                <p:column rowspan="2" headerText="Condici&oacute;n" style="vertical-align: middle;"/>
						                <p:column rowspan="2" headerText="Nombre/Raz&oacute;n Social" style="vertical-align: middle;"/>
						                <p:column rowspan="2" headerText="Estado" style="vertical-align: middle;"/>
						                <p:column colspan="5" headerText="Contrato" style="vertical-align: middle;"/>
						                <p:column rowspan="2" headerText="Inicio Cobro" style="vertical-align: middle;"/>
						                <p:column rowspan="2" headerText="Fin Cobro" style="vertical-align: middle;"/>
						                <p:column rowspan="2" headerText="Sin deuda" style="vertical-align: middle;"/>

						            </p:row>
						            <p:row>
										<p:column colspan="1" headerText="Nro Contrato" style="vertical-align: middle;"/>
						                <p:column colspan="1" headerText="Inicio" style="vertical-align: middle;"/>
						                <p:column colspan="1" headerText="Fin" style="vertical-align: middle;"/>
						                <p:column rowspan="1" headerText="Resuelto" style="vertical-align: middle;"/>
						                <p:column rowspan="1" headerText="Adenda" style="vertical-align: middle;"/>
						            </p:row>
									 		
									 </p:columnGroup>
									<p:inputText value="#{condicion.siprocesojudicial}" id="hiddenfield3" type="hidden" />
									<p:inputText value="#{condicion.sireconocimientodeuda}" id="hiddenfield4" type="hidden" />
									<p:column>
										<h:outputText value="#{condicion.condicion}" />
									</p:column>
									<p:column>
										<h:outputText value="#{condicion.nombresInquilino}" />
									</p:column>
									<p:column headerText="Estado">
										<h:outputText value="#{condicion.estado}" />
									</p:column>
									<p:column>
										<h:outputText value="#{condicion.nrocontrato==NULL ? 'S/N':condicion.nrocontrato}" />
									</p:column>

									<p:column>
										<h:outputText value="#{condicion.iniciocontrato}" >
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column>
										<h:outputText value="#{condicion.fincontrato}" >
										<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column headerText="Resuelto">
										<h:outputText value="#{condicion.siresuelto=='true' ? 'Sí':'No'}" />
									</p:column>
									<p:column headerText="Adenda">
										<h:outputText value="#{condicion.siadenda=='true' ? 'Sí':'No'}" />
									</p:column>
									
									<p:column headerText="Inicio Cobro">
										<h:outputText value="#{condicion.iniciocobro}" >
										<f:convertDateTime pattern="MMM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column headerText="Fin Cobro">
										<h:outputText value="#{condicion.fincobro}" >
										<f:convertDateTime pattern="MMM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column headerText="">
									<h:outputText value="#{condicion.sicuotascanceladas=='true' ? 'Sí':'No'}" />
									</p:column>	


				<!-- Agregar pagos de una upa (comprobantes de pago) -->
									<f:facet name="footer">
										<h:outputText value="Agregar" />  
										
										<p:commandLink id="agregarPago">
											<p:graphicImage width="25" height="25" style="margin-left:5px;"
												value="/resources/images/varios/money2.png"
												alt="Agregar pago" title="Agregar pago" />
										</p:commandLink>
										
										<p:slideMenu overlay="true" trigger="agregarPago"   my="left top" at="left bottom" backLabel="Regresar" >

									            <p:menuitem value="Boleta de Venta"  actionListener="#{carteraMB.elegirTipoFacturacion('03')}" update=":frmMaestra:listaMensajes"   icon="ui-icon-copy"/>
									            <p:menuitem value="Factura"   actionListener="#{carteraMB.elegirTipoFacturacion('01')}" update=":frmMaestra:listaMensajes" icon="ui-icon-copy"/>
									        	<p:submenu label="Nota de débito"  icon="ui-icon-copy">
<!-- 									        	    <p:submenu label="Mora"  icon="ui-icon-copy"> -->
<!-- 									        		<p:menuitem value="Pendiente"   actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('08','Pendiente')}" update=":formNotadebitoManual,:frmMaestra:listaMensajes"  icon="ui-icon-copy"/> -->
									        		<p:menuitem value="Mora"   actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('08','Nuevo')}" update=":formRegistroNotaDebitoTipoDetalle,:frmMaestra:listaMensajes"  icon="ui-icon-copy"/>
<!-- 									        		</p:submenu> -->
<!-- 									        		<p:submenu label="Penalización"  icon="ui-icon-copy"> -->
									        		<p:menuitem value="Penalización"   actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('08','17')}" update=":formRegistroNotaDebitoPenalizacionTipoDetalle,:frmMaestra:listaMensajes"  icon="ui-icon-copy"/>
<!-- 									        		</p:submenu> -->
									        	</p:submenu>
									        	<p:menuitem value="Recibo de Caja"   actionListener="#{carteraMB.elegirTipoFacturacion('04')}" update=":frmRegistroReciboCaja,:frmMaestra:listaMensajes"  icon="ui-icon-copy"/>
									        	<p:menuitem value="Sin valor legal" actionListener="#{carteraMB.elegirTipoFacturacion('00')}"  update=":frmMaestra:listaMensajes"   icon="ui-icon-copy" disabled="false"/>
									        
										        <p:submenu label="Nota de crédito" icon="ui-icon-copy">
										      		<p:submenu label="Descontar Renta"  icon="ui-icon-copy">
										      			<p:menuitem value="Total" actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('10','Total')}"     update=":formRegistroNotaCreditoTipoDetalle,:frmMaestra:listaMensajes,:formRegistroNotaCreditoTipoDetalle:total"  icon="ui-icon-copy"/>										      		
										      			<p:menuitem value="Parcial" actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('10','Parcial')}" update=":formRegistroNotaCreditoTipoDetalle,:frmMaestra:listaMensajes,:formRegistroNotaCreditoTipoDetalle:total"  icon="ui-icon-copy"/>								      			
										      			<p:menuitem value="Generar 2da NC" actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('10','GENERAR')}" update=":formRegistroNotaCreditoTipoDetalle,:frmMaestra:listaMensajes,:formRegistroNotaCreditoTipoDetalle:total"  icon="ui-icon-copy"/>								      												      		
										      		</p:submenu>										      		
<!-- 										      		<p:menuitem value="Descontar Mora"  actionListener="#{carteraMB.elegirTipoFacturacionNotaDebitoyCredito('11','Total')}" update=":formRegistroNotaCreditoTipoDetalle,:frmMaestra:listaMensajes" icon="ui-icon-copy" disabled="false"/> -->
										        </p:submenu>
<!-- 										        EXTINCION DE DEUDA -->
										        <p:menuitem value="Documento administrativo" actionListener="#{carteraMB.elegirTipoFacturacion('DA')}"  update=":frmRegistroDocumentoAdministrativo,:frmMaestra:listaMensajes"   icon="ui-icon-copy" disabled="false"/>
<!-- 												<p:menuitem value="Documento administrativo" actionListener="#{carteraMB.elegirTipoFacturacion('DA')}"  update=":frmMaestra:listaMensajes"   icon="ui-icon-copy" disabled="false"/> -->
									    </p:slideMenu >
										
										<h:outputText rendered="#{!carteraMB.sicobrador}" value="Editar" style="margin-left:20px;"/>
										<p:commandLink rendered="#{!carteraMB.sicobrador}"
											actionListener="#{carteraMB.validarEditarPago}"
											update=":frmMaestra:listaMensajes">
											<p:graphicImage width="20" height="20" style="margin-left:5px;"
												value="/resources/images/varios/editar1.png"
												alt="Agregar pago" title="Editar pago" />
										</p:commandLink>
										
										<h:outputText value="Anulados" style="margin-left:20px;"/>
										<p:commandLink 
											onclick="widgetDlgAnularComprobante.show();"
											update=":frmMaestra:listaMensajes">
											<p:graphicImage width="20" height="20" style="margin-left:5px;"
												value="/resources/images/varios/anular.png"
												alt="Agregar pago" title="Agregar pago" />
										</p:commandLink>
									</f:facet>
								</p:dataTable>
							</p:tab>
							
							<p:tab  title="Pago Otro">
								<h:panelGrid columns="53" >
										<h:outputText style="font-size:10px;" value="Agregar Pago" /> 
										<p:commandLink id="pagoOtro">
											<p:graphicImage width="15" height="15"
												value="/resources/images/cobranza/icon_registro.png"
												alt="Pagar Otro" title="Pagar Otro" />
										</p:commandLink>
								</h:panelGrid>
								
										
										<p:slideMenu overlay="true" trigger="pagoOtro"   my="left top" at="left bottom" width="2000px">

									            <p:menuitem value="Factura/Boleta de Venta" actionListener="#{carteraMB.elegirTipoFacturacion('99')}"  icon="ui-icon-copy" />
												<p:menuitem value="Nota de Cr&eacute;dito"  actionListener="#{carteraMB.elegirTipoFacturacion('NC')}" update=":frmRegistroPagoOtroNotaCredito,:frmMaestra:listaMensajes,:frmRegistroPagoOtroNotaCredito:total"  icon="ui-icon-copy" />
												<p:menuitem value="Nota de D&eacute;bito"   actionListener="#{carteraMB.elegirTipoFacturacion('ND')}" update=":frmRegistroPagoOtroNotaDebito,:frmMaestra:listaMensajes,:frmRegistroPagoOtroNotaDebito:total"  icon="ui-icon-copy" />
									        	<p:menuitem value="Recibo de Caja"   		actionListener="#{carteraMB.elegirTipoFacturacion('49')}" update=":frmRegistroReciboCaja,:frmMaestra:listaMensajes"  icon="ui-icon-copy"/>
									            <p:menuitem value="Recuperación Arbitrios" 	actionListener="#{carteraMB.elegirTipoFacturacion('RA')}" icon="ui-icon-copy" />									            
									    </p:slideMenu >
								
							</p:tab>
						</p:tabView>


						<br />
						<br />
						<br />
						
		<!-- 	INFORMACION DEL CONTRATO DE LA UPA INGRESADA   -->
					<p:panel id="infoContrato" style="margin-right:50px;">
						<h:panelGrid columns="2" cellspacing="5">
							<h:panelGrid columns="2" cellspacing="5">
								<h:outputLabel style="color:#403100;" value="Nº Contrato: " />
								<h:outputLabel style="color:#BF9400;"
									value="#{carteraMB.condicionSeleccionado.nrocontrato==null ? 'S/N':carteraMB.condicionSeleccionado.nrocontrato}" />
								<h:outputLabel style="color:#403100;" value="Condici&oacute;n:" />
								<h:outputLabel style="color:#BF9400;"
									value="#{carteraMB.condicionSeleccionado.condicion}" />
								<h:outputLabel style="color:#403100;" value="Arrendatario: " />
								<h:outputLabel style="color:#BF9400;"
									value="#{carteraMB.condicionSeleccionado.nombresInquilino}" />
								<h:outputLabel style="color:#403100;" value="Dirección: " />
								<h:outputLabel style="color:#BF9400;"
									value="#{carteraMB.condicionSeleccionado.direccion}" />
								<h:outputLabel style="color:#403100;" value="Cartera: " />
								<h:outputLabel style="color:#BF9400;"
									value="#{carteraMB.nombrecarteraContrato}" />
							</h:panelGrid>
								<h:panelGrid columns="2" cellspacing="5">
									<h:outputLabel style="color:#403100;" value="Nº RUC :" />
									<h:outputLabel style="color:#BF9400;" value="#{carteraMB.condicionSeleccionado.ruc==null ? '' : carteraMB.condicionSeleccionado.ruc }" />
									<h:outputLabel style="color:#403100;" value="Nº DNI :" />
									<h:outputLabel style="color:#BF9400;" value="#{carteraMB.condicionSeleccionado.dni==null ? '' : carteraMB.condicionSeleccionado.dni }"/>
									<h:outputLabel style="color:#403100;" value="Nº Carnet Extranjeria :" />
									<h:outputLabel style="color:#BF9400;" value="#{carteraMB.condicionSeleccionado.carnetextranjeria==null ? '' : carteraMB.condicionSeleccionado.carnetextranjeria }"/>
								</h:panelGrid>
							</h:panelGrid>
						</p:panel>
						<p:inputText id="condicion" value="#{carteraMB.condicion}"
							style="display:none;" />
						<p:dialog width="auto" height="auto" resizable="false" header="Editar"
							closeOnEscape="true" widgetVar="widgetDlgListaPagosEdicion"  
							showEffect="slide" hideEffect="slide">
							
							<p:dataTable id="listaTodosPagosEdicion" var="cuota"   
								value="#{carteraMB.listaCuotasPagadas}" editable="true" style="margin-top:15px;font-size:10px;align-text:center;height:380px;"
								rowKey="#{cuota.idcuota}" paginatorPosition="top" scrollHeight="400" 
								filteredValue="#{carteraMB.listaCuotasPagadasFilter}" 
								paginator="true"
								paginatorTemplate=" Ir a p&aacute;gina: {JumpToPageDropdown} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registros por p&aacute;gina: {RowsPerPageDropdown}  &nbsp;  {CurrentPageReport}"
								currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} Registros"
								rowsPerPageTemplate="12,24,36,48,60,72" rows="12"
								styleClass="ui-datatable-hor-scroll-horizontal"
								emptyMessage="No tiene Pendientes" >
								<p:ajax event="rowEdit" listener="#{carteraMB.editarEstadoPago}"  />
								<p:column style="width:32px">
						           <p:rowEditor />
						       </p:column>
								<p:column headerText="A&ntilde;o" filterBy="#{cuota.anio}" filterMatchMode="contains" style="width:40px">
									<h:outputText value="#{cuota.anio}" />
								</p:column>
								<p:column headerText="Mes" filterBy="#{cuota.mes}" filterMatchMode="contains">
									<h:outputText value="#{cuota.mes}" />
								</p:column>
								<p:column headerText="Monto Pagado">
									<h:outputText value="#{cuota.monto}">
									<f:convertNumber pattern="###,###,###,##0.00" />
									</h:outputText>
								</p:column>
								<p:column headerText="Estado">
									<p:cellEditor >
										<f:facet name="output">
											<h:outputText value="#{cuota.condicion}" />
										</f:facet>
										<f:facet name="input">
											<h:selectOneMenu value="#{cuota.condicion}"  style="width:100%" disabled="#{cuota.condicion.equals('Generado')}">
												<f:selectItem itemLabel="Cancelado" itemValue="Cancelado" />
												<f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />
												<f:selectItem itemLabel="Generado" itemValue="Generado" />
											</h:selectOneMenu>
										</f:facet>
									</p:cellEditor>
								</p:column>
								

							</p:dataTable>
							<br/>
						</p:dialog>
						
						<p:confirmDialog message="¿Esta seguro de Cambiar estado de pago(s)?"
							header="Registro Cuota" severity="alert"
							widgetVar="dlgConfirmarEdicionPago">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.editarEstadoPago}"
									oncomplete="dlgConfirmarEdicionPago.hide();"
									icon="icon-save"
									update=":frmMaestra:listaMensajes">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarEdicionPago.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>
						
						</h:form>
		
		                <!-- RECUPERACION DE ARBITRIO  -->
		          <h:form id="frmRecuperacionArbitrios">
					<p:dialog header="Registro de Pago" closable="true" showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRecuperacionArbitrios" width="700"
							height="500"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; "> 
							<h:form id="frmRegistroCabecera">
				  	   <p:focus context="tabCartera"/>
				  	   <p:tabView id="tabCartera" style="margin-top:10px;margin-right:50px;" effect="slide">
						  <p:tab id="tab1" title="Pago Arbitrio ">
							  <h:panelGrid columns="5">
							  <h:outputText value="Clave:"/>
								<p:remoteCommand name="testN"
									actionListener="#{carteraMB.autovaluoCobranzaMB.obtenerListaArbitrioxUpa}"
									update="listaArbitrioxupa"/>
									<p:inputMask mask="**-****-***" value="#{carteraMB.autovaluoCobranzaMB.claveupa}" 
									onkeypress="if (event.keyCode == 13){testN(); return false;}"
									style="width:100px; text-align:center;font-size:15px;">									
									</p:inputMask>
									<p:commandButton 
											update="listaArbitrioxupa"
											actionListener="#{carteraMB.autovaluoCobranzaMB.obtenerListaArbitrioxUpa}"
											icon="ui-icon-search" value="Buscar"
											/>
							   </h:panelGrid>
							
							<p:dataTable id="listaArbitrioxupa" var="arbitrio"
							 selectionMode="single" rowKey="#{arbitrio.idarbitrio}"
							 value="#{carteraMB.autovaluoCobranzaMB.listaAutovaluoArbitrio}"
							 selection="#{carteraMB.autovaluoCobranzaMB.condicionSeleccionado}" rowIndexVar="index"
							 style="text-align:center;font-size:11px;margin-top:10px;width:630px"
							 emptyMessage="No se ha encontrado ningún registro"
							 scrollWidth="630" styleClass="ui-datatable-hor-scroll">
								 <p:columnGroup type="header">
												<p:row>
													<p:column rowspan="2" headerText="Cod." style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Upa" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Estado" style="vertical-align:middle;"/>
<!-- 												<p:column rowspan="2" headerText="Frecuencia" style="vertical-align:middle;"/> -->
													<p:column rowspan="2" headerText="Direccion" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Periodo" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Trimestre 1" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Trimestre 2" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Trimestre 3" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Trimestre 4" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Total" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Fec. Creación" style="vertical-align:middle;"/>
													<p:column rowspan="2" headerText="Usu. Creador" style="vertical-align:middle;"/>
												
												</p:row>
											</p:columnGroup>
<!-- 											<p:column style="width:32px"> -->
<!-- 												<p:rowEditor /> -->
<!-- 											</p:column> -->
<!-- 											<p:column> -->
<!-- 												<h:outputText value="#{arbitrio.idarbitrio}" /> -->
<!-- 											</p:column> -->
											<p:column>
													<h:outputText value="#{index+1}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.clave}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.estado}" />
											</p:column>
<!-- 											<p:column> -->
<!-- 												<h:outputText value="#{arbitrio.frecuencia}" /> -->
<!-- 											</p:column> -->
											<p:column>
												<h:outputText value="#{arbitrio.direccion}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.periodo}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.trim1}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.trim2}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.trim3}" />
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.trim4}" />
											</p:column>

											<p:column>
												<h:outputText value="#{arbitrio.total}" >
												<f:convertNumber currencySymbol="S/. " groupingUsed="true" locale="en"
														maxFractionDigits="2" type="currency"/>
												</h:outputText>
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.feccre}">
												<f:convertDateTime pattern="dd/MM/yyyy"/>
												</h:outputText>
												
											</p:column>
											<p:column>
												<h:outputText value="#{arbitrio.usrcre}" />
											</p:column>
											
								<!-- Agregar pagos de una upa (comprobantes de pago) -->
									<f:facet name="footer">
<!-- 										<h:outputText value="Agregar" />   -->
										
<!-- 										<p:commandLink id="agregarPago"> -->
<!-- 											<p:graphicImage width="25" height="25" style="margin-left:5px;" -->
<!-- 												value="/resources/images/varios/money2.png" -->
<!-- 												alt="Agregar pago" title="Agregar pago" /> -->
<!-- 										</p:commandLink> -->
										
<!-- 										<p:slideMenu overlay="true" trigger="agregarPago"   my="left top" at="left bottom" backLabel="Regresar" > -->
									        	
<!-- 									        	<p:menuitem value="Recibo de Caja"  actionListener="#{carteraMB.elegirTipoFacturacion('04')}" update=":frmReciboCajaRecuperacionArbitrio,:frmMaestra:listaMensajes" icon="ui-icon-copy"/> -->
                                       
<!--                                         </p:slideMenu > -->
				                        <p:commandButton  style = "margin-left:450px;margin-top:15px;"  
											update=":frmReciboCajaRecuperacionArbitrio,:frmMaestra:listaMensajes"
											actionListener="#{carteraMB.autovaluoCobranzaMB.elegirTipoFacturacion('04')}"
											value="Recibo de Caja" icon="ui-icon-copy" />
				                        
<!-- 										<h:outputText  value="Editar" style="margin-left:20px;"/> -->
<!-- 										<p:commandLink  -->
<!-- 											update=":frmMaestra:listaMensajes"> -->
<!-- 											<p:graphicImage width="20" height="20" style="margin-left:5px;" -->
<!-- 												value="/resources/images/varios/editar1.png" -->
<!-- 												alt="Agregar pago" title="Editar pago" /> -->
<!-- 										</p:commandLink> -->
										
<!-- 										<h:outputText value="Anulados" style="margin-left:20px;"/> -->
<!-- 										<p:commandLink  -->
<!-- 											onclick="widgetDlgAnularComprobante.show();" -->
<!-- 											update=":frmMaestra:listaMensajes"> -->
<!-- 											<p:graphicImage width="20" height="20" style="margin-left:5px;" -->
<!-- 												value="/resources/images/varios/anular.png" -->
<!-- 												alt="Agregar pago" title="Agregar pago" /> -->
<!-- 										</p:commandLink> -->
									</f:facet>
							
							</p:dataTable>
							</p:tab>
						</p:tabView>
						</h:form>
						<br />
						<br />
				
							
							</p:dialog>
				</h:form>
				<!--################### RECIBO DE CAJA RECUPERACION DE ARBITRIO #######################3 -->
				 <h:form id="frmReciboCajaRecuperacionArbitrio">
				 <p:confirmDialog message="¿Desea Registrar el comprobante de pago?"
								  header="Registro Comprobante" severity="alert"
								  widgetVar="dlgConfirmarRegistroReciboCajaArbitrio">
						 <center>
								   <p:commandButton value="&nbsp;Aceptar"
								   actionListener="#{carteraMB.autovaluoCobranzaMB.grabarReciboCaja()}"
								   onclick="dlgRegistroReciboCajaRA.hide();dlgRecuperacionArbitrios.hide();"
								   update=":frmReciboCajaRecuperacionArbitrio,:frmMaestra:listaMensajes"
								   icon="icon-save">
								   </p:commandButton>
								   <p:spacer width="15"/>
								   <p:commandButton value="&nbsp;Cancelar"
								   	oncomplete="dlgConfirmarRegistroReciboCajaArbitrio.hide()"
								   	icon="icon-cancel" />
					    </center>				 
				 </p:confirmDialog>
				 <p:dialog header="#{carteraMB.autovaluoCobranzaMB.selectedTipoDocumento}" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroReciboCajaRA" width="820"
							height="520"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">
							<div class="RegistroCuotaContrato" style="width: auto; height: auto;">
									<div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">
										<br></br>
										<p:panel>										
												<h:panelGrid columns="4" cellspacing="10" cellpadding="10">
												<p:selectOneMenu panelStyle="width:130px"
												style="width: 130px;  font-size: 11px;"
												value="#{carteraMB.autovaluoCobranzaMB.idtipodocuseleccionado}" disabled="true">
												<f:selectItem itemLabel="Tipo Documento"
													itemValue="0" />
												<f:selectItems value="#{carteraMB.autovaluoCobranzaMB.listaTipoDocumentos}"
													var="tdoc" itemValue="#{tdoc.idtipodocu}"
													itemLabel="#{tdoc.tipDocu}" />
												</p:selectOneMenu>
												<p:selectOneMenu panelStyle="width:180px" 
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.autovaluoCobranzaMB.idtipoconceptoseleccionado}">
													<f:selectItem itemLabel="Tipo Concepto" itemValue="0" />
													<f:selectItem itemLabel="Recuperación de Arbitrios" itemValue="16" />
												</p:selectOneMenu>
												
											
												<p:selectOneMenu panelStyle="width:130px"
													style="width: 130px;  font-size: 11px;"
													value="#{carteraMB.autovaluoCobranzaMB.idtipopagoseleccionado}" >
													<f:selectItem itemLabel="Tipo Pago"
														itemValue="0" />
													<f:selectItems value="#{carteraMB.autovaluoCobranzaMB.tipopagos}" var="tdoc"
														itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
												</p:selectOneMenu>

											</h:panelGrid>
											<h:panelGrid columns="4" style="margin-left:20px; margin-top:10px;">
<!-- 												<h:panelGrid columns="1"> -->
<!-- 													<h:outputText value="Nro Serie: " /> -->

<!-- 													<p:inputText value="#{carteraMB.autovaluoCobranzaMB.serieFacturacionFisica}" -->
<!-- 														style="width:50px;" maxlength="3" /> -->
<!-- 												</h:panelGrid> -->
<!-- 												<h:panelGrid columns="1"> -->
<!-- 													<h:outputText value="Nro Documento: " /> -->
<!-- 													<p:inputText -->
<!-- 														value="#{carteraMB.autovaluoCobranzaMB.correlativoFacturacionFisica}" -->
<!-- 														maxlength="6" /> -->
<!-- 												</h:panelGrid> -->
											<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
													<h:panelGrid columns="1" style="margin: 0px 0px 0px -21px;" >
													<h:outputText value="Fecha Emisión: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy"
														style="width:150px;" navigator="true" locale="es" 
														value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.autovaluoCobranzaMB.sicobrador}" mindate="#{carteraMB.autovaluoCobranzaMB.minfechacancelacion}">
														<p:ajax event="dateSelect"
															listener="#{carteraMB.autovaluoCobranzaMB.buscarTipoCambio}"
															update=":frmMaestra:listaMensajes,fechaCancelacionN" />
													</p:calendar>
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Cancelación: " />
													<p:calendar id="fechaCancelacionN" style="width:150px;" pattern="dd-MM-yyyy" mask="true"
														navigator="true" locale="es"
														value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.fechacancelacion}"
														mindate="#{carteraMB.autovaluoCobranzaMB.minfechacancelacion}" maxdate="#{carteraMB.autovaluoCobranzaMB.maxFechaCancelacion}"
														readonlyInput="#{autovaluoCobranzaMB.sicobrador}">
													</p:calendar>
												</h:panelGrid>
												<h:panelGrid columns="2">
											       <h:panelGrid  columns="1" style="margin-left:37px;" >
											       		<h:outputText value="Forma de Pago:" />
												<p:selectOneMenu panelStyle="width:180px"
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.autovaluoCobranzaMB.idtipomodalidadpago}">
													<f:selectItem itemLabel="Seleccionar forma de pago" itemValue="0" />
													<f:selectItems value="#{carteraMB.listatipomodalidadpagos}" var="tmp"
														itemValue="#{tmp.idtipomodalidadpago}" itemLabel="#{tmp.descripciontipo}" />
												</p:selectOneMenu>
											</h:panelGrid>
											</h:panelGrid>
											</h:panelGrid>
										</h:panelGrid>	
<!-- 									<h:panelGrid columns="4" style="margin-left:20px; margin-top:10px;">										 -->
<!-- 										<h:panelGrid columns="1"> -->
<!-- 											<h:outputText value="Fecha Emisión: " /> -->
<!-- 											<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true" -->
<!-- 												styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es" -->
<!-- 												value="#{carteraMB.comprobantepago.fechaemision}" -->
<!-- 												readonlyInput="#{carteraMB.sicobrador}" mindate="#{carteraMB.minfechacancelacion}" > -->
<!-- 												<p:ajax event="dateSelect" -->
<!-- 													listener="#{carteraMB.buscarTipoCambio}" -->
<!-- 													update="infoayudaContrato,:frmMaestra:listaMensajes,fechaCancelacion,fechaVencimiento,:formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:pendientePagoRenta" /> -->
													
													
<!-- 											</p:calendar> -->
<!-- 										</h:panelGrid> -->
										
<!-- 										<h:panelGrid columns="1" style="margin-left:30px;" rendered="#{carteraMB.sifacturacionelectronica}"> -->
<!-- 											<h:outputText value="Fecha Vencimiento: " /> -->
<!-- 											<p:calendar id="fechaVencimiento" pattern="dd-MM-yyyy" mask="true"  -->
<!-- 												styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es" -->
<!-- 												value="#{carteraMB.comprobantepago.fechavencimiento}"  -->
<!-- 												mindate="#{carteraMB.minFechaVencimiento}" maxdate="#{carteraMB.maxFechaVencimiento}"> -->
<!-- 												<p:ajax event="dateSelect" -->
<!-- 													listener="#{carteraMB.limpiarListaCuotasPendientesCondicionCancelar}" -->
<!-- 													update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:pendientePagoRenta,fechaCancelacion" /> -->
													
<!-- 											</p:calendar> -->
<!-- 										</h:panelGrid> -->
<!-- 									</h:panelGrid> -->
											
											
											
											
											<h:panelGrid columns="5" >
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Recibido de Sr.(a)/R. Social:" />
														<p:inputText value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.nombrepagante}"
															style="width:250px"  onkeyup="convertir_a_mayuscula(this);">
														</p:inputText>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="DNI/RUC." /> -->
<!-- 													<p:inputText style="width:120px;" -->
<!-- 														value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.dnirucpagante}" maxlength="11"/> -->
<!-- 												</h:panelGrid> -->
												<h:panelGrid columns="1" style="margin-left:13px;">
													<h:outputText value="Tipo de Persona :" />
												<p:selectOneMenu panelStyle="width:180px" 
													style="width: 110px;  font-size: 11px;"
													value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.idtipopersona}">
													<f:selectItem itemLabel="Seleccione" itemValue="0" />
													<f:selectItem itemLabel="Natural" itemValue="1"/>
													<f:selectItem itemLabel="Juridica" itemValue="2" />
													<p:ajax event="change" listener="#{carteraMB.autovaluoCobranzaMB.cargarTipoDocumentoValido}" update="tiposdocumentosARB,num_doc_paganteARB,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc.  :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 110px;  font-size: 11px;" id="tiposdocumentosARB"
													value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.tipodoc_receptor}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{carteraMB.autovaluoCobranzaMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="CE" itemValue="4" itemDisabled="#{carteraMB.autovaluoCobranzaMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="RUC" itemValue="6" itemDisabled="#{carteraMB.autovaluoCobranzaMB.habilitarDocRUC}"/>
													  <p:ajax  event="change" listener="#{carteraMB.autovaluoCobranzaMB.cargarLongitudTipoDocumento}" update="num_doc_paganteARB,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_doc_paganteARB"
														value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.dnirucpagante}" maxlength="#{carteraMB.autovaluoCobranzaMB.longDocuPersona}" onkeypress="return validarKey(event);" />
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="2">
											    <h:panelGrid columns="1" style="margin: 0px 0px -15px 18px;">
												<h:outputText value="Dirección:" />
													<p:inputTextarea rows="1" cols="89"  value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.obs_direccion}" 
													maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false"  onkeyup="convertir_a_mayuscula(this);"/>
													<br />	
											    </h:panelGrid>
											</h:panelGrid>
											
											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.autovaluoCobranzaMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.autovaluoCobranzaMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.autovaluoCobranzaMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Descripción:" />
													<p:inputTextarea rows="1" cols="59"  value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.observacion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" onkeyup="convertir_a_mayuscula(this);" />
													<br />													
												</h:panelGrid>

												
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Observación(Glosa)</h3>
											<p:inputTextarea rows="3" cols="89" counter="display" value="#{carteraMB.autovaluoCobranzaMB.comprobantepago.glosario}"
												maxlength="220" counterTemplate="{0} caracteres."
												autoResize="false" onkeyup="convertir_a_mayuscula(this);"/>
											<br />
											<h:outputText id="display" />
										</h:panelGrid>
											
										</p:panel>
										<br /> <br />
					<!-- ************************BOTON AGREGAR CUOTAS************** -->
									<p:dataTable id="listaCuotasPendientesPagoRentaCancelar"
										var="cuota" rowKey="#{cuota.mes}"
										value="#{carteraMB.autovaluoCobranzaMB.listaCuotasPendientesCondicionCancelar}"
										selection="#{carteraMB.autovaluoCobranzaMB.cuotaPendienteCondicion}"
										style="text-align:center;font-size:11px;" editMode="cell"
										selectionMode="single"
										emptyMessage="No ha agregado ningun pago" editable="true">

										<f:facet name="header">
											<p:commandLink id="btnAgregar" style="text-align:center;"
												update=":frmReciboCajaRecuperacionArbitrio:pendientePagoRenta,:frmMaestra:listaMensajes"
												actionListener="#{carteraMB.autovaluoCobranzaMB.validarCabeceraPagoArbitrio}">
												<p:graphicImage width="20" height="20"
													value="../resources/images/monitoreoMesaPartes/addUsuario.png" />
											</p:commandLink>
										</f:facet>

										<p:ajax event="cellEdit"
											listener="#{carteraMB.autovaluoCobranzaMB.calcularTotales}"
											update=":frmReciboCajaRecuperacionArbitrio:total" />

										<p:column headerText="Periodo">
											<h:outputText value="#{cuota.periodo}" />
										</p:column>
										<p:column headerText="trimestre">
											<h:outputText value="#{cuota.trimestre}" />
										</p:column>
										<p:column headerText="Mes">
											<h:outputText value="#{cuota.mes}" />
										</p:column>
<!-- 										<p:column headerText="Monto"> -->
<!-- 											<h:outputText value="#{cuota.monto}" /> -->
<!-- 										</p:column> -->
										<p:column headerText="Monto">
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.monto}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{cuota.monto}"
														disabled="#{carteraMB.autovaluoCobranzaMB.sicobrador}" />
												</f:facet>

											</p:cellEditor>
										</p:column>
										<p:column headerText="Acci&oacute;n">
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.estado.equals('PENDIENTE')?'Pendiente':'Cancelado'}" />
												</f:facet>
												<f:facet name="input">
													<h:selectOneMenu value="#{cuota.estado}"
														style="width:100%" disabled="#{!cuota.siActivo}">
														<f:selectItem itemLabel="Cancelado" itemValue="Cancelado" />
														<f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />
														<f:selectItem itemLabel="Generado" itemValue="Generado"
															itemDisabled="#{cuota.siActivo}" />
													</h:selectOneMenu>
												</f:facet>
											</p:cellEditor>
										</p:column>
									</p:dataTable>
									<br />
									<br />
<!-- 									***********************  PANEL TOTAL ********************** -->
									<h:panelGrid id="total" columns="2"
											style="margin-left:548px;">
											<h:outputLabel value="Subtotal: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.autovaluoCobranzaMB.totalSubTotalComprobante}" />
												
											<h:outputLabel value="IGV: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.autovaluoCobranzaMB.igvComprobante}" />
											
											<h:outputLabel value="TOTAL: " style="font-size:16px;" />
											<h:outputLabel style ="width:80px;font-size:16px;" value="#{carteraMB.autovaluoCobranzaMB.totalComprobante}" />
									</h:panelGrid>
									<br />
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											update=":frmMaestra:listaMensajes"
											actionListener="#{carteraMB.autovaluoCobranzaMB.validacionRegistrarReciboCaja}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="dlgRegistroReciboCajaRA.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />
<!-- 									******************************************************************************* -->
							</div>

					</div>
							
				 </p:dialog>
				 <!-- ####################### PENDIENTE DE PAGO DE RENTA ARBITRIOS###################### -->
			 <p:dialog width="auto" height="auto" resizable="false"
						closeOnEscape="true" showHeader="true" closable="true"
						widgetVar="dlgPendientePagoRenta"
						showEffect="slide" hideEffect="slide">

						<p:dataTable id="pendientePagoRenta" var="cuota"
							rowKey="#{cuota.idcuota}" paginatorPosition="top"
							filteredValue="#{carteraMB.autovaluoCobranzaMB.listaCuotasPendientesCondicionCancelarFilter}"
							value="#{carteraMB.autovaluoCobranzaMB.listaCuotasPendientesCondicion}"
							paginator="true"
							selection="#{carteraMB.autovaluoCobranzaMB.listaCuotasPendientesCondicionCancelar}"						    
							paginatorTemplate=" Ir a p&aacute;gina: {JumpToPageDropdown} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registros por p&aacute;gina: {RowsPerPageDropdown}  &nbsp;  {CurrentPageReport}"
							currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} Registros"
							rowsPerPageTemplate="12,24,36,48,60,72" rows="12" scrollWidth="400px"
							emptyMessage="No tiene Pendientes">
							<p:ajax event="toggleSelect"
									listener="#{carteraMB.autovaluoCobranzaMB.calcularTotales}"
									update=":frmReciboCajaRecuperacionArbitrio:listaCuotasPendientesPagoRentaCancelar,:frmReciboCajaRecuperacionArbitrio:total" />
								
							<p:ajax event="rowSelectCheckbox"
								listener="#{carteraMB.autovaluoCobranzaMB.calcularTotales}"
								update=":frmReciboCajaRecuperacionArbitrio:listaCuotasPendientesPagoRentaCancelar,:frmReciboCajaRecuperacionArbitrio:total" />
							<p:ajax event="rowUnselectCheckbox"
								update=":frmReciboCajaRecuperacionArbitrio:listaCuotasPendientesPagoRentaCancelar,:frmReciboCajaRecuperacionArbitrio:total"
								listener="#{carteraMB.autovaluoCobranzaMB.calcularTotales}" />
							<p:ajax event="rowSelect"
								update=":frmReciboCajaRecuperacionArbitrio:listaCuotasPendientesPagoRentaCancelar,:frmReciboCajaRecuperacionArbitrio:total"
								listener="#{carteraMB.autovaluoCobranzaMB.calcularTotales}" />

							<p:column selectionMode="multiple" width="15" disabledSelection="#{cuota.monto==0}"/>
<!-- 							<p:column filterBy="#{cuota.anio}" filterMatchMode="contains"> -->
<!-- 								<h:outputText value="#{cuota.anio}" /> -->
<!-- 							</p:column> -->
							<p:column filterBy="#{cuota.periodo}" filterMatchMode="contains">
								<h:outputText value="#{cuota.periodo}" />
							</p:column>
							<p:column filterBy="#{cuota.trimestre}" filterMatchMode="contains">
								<h:outputText value="#{cuota.trimestre}" />
							</p:column>
							<p:column>
								<h:outputText value="#{cuota.mes}" />
							</p:column>

							<p:column>
								<h:outputText value="#{cuota.monto}" />
							</p:column>
							<p:column>
								<h:outputText value="#{cuota.estado.equals('PENDIENTE')?'Pendiente':'Cancelado'}" />
							</p:column>

						</p:dataTable>

					</p:dialog>
			 <!-- #################################FIN DE PAGO DE RECIBO DE CAJA ARBITRIO########### -->
			
				 
				 </h:form>
		                <!-- FIN DE RECUPERACION DE ARBITRIO  -->
		                 
						<!-- Pago Otro -->
						<h:form id="frmRegistroPagoOtro">
						<p:dialog header="#{carteraMB.selectedTipoDocumento}" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroPagoOtro" width="auto"
							height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">

								<div class="RegistroCuotaContrato"
									style="width: auto; height: auto;">
									<div class="RegistroCuotaContratoIzq"
										style="width: auto; height: auto;">


										<br></br>

										<p:panel>
										
												<h:panelGrid columns="5" cellspacing="10" cellpadding="10">
												<p:selectOneMenu panelStyle="width:130px" style="width: 130px;  font-size: 11px;"
												value="#{carteraMB.idtipodocuseleccionado}" disabled="#{carteraMB.sigarantia}">
													<f:selectItem itemLabel="Tipo Documento" itemValue="0" />
													<f:selectItem  itemValue="01" itemLabel="Factura" />
													<f:selectItem  itemValue="03" itemLabel="Boleta de Venta" />
													<p:ajax event="change" listener= "#{carteraMB.validardocumentoseleccionado}" update="selectmenuformadepago,:frmMaestra:listaMensajes"/>
												</p:selectOneMenu>
											<p:selectOneMenu panelStyle="width:140px" id="selectmenuformadepago"
												disabled="#{carteraMB.idtipodocuseleccionado=='01'|| carteraMB.idtipodocuseleccionado=='09'? false : true}"
												style="width: 168px;  font-size: 11px;"
												value="#{carteraMB.idtipotransaccionseleccionado}">
												<f:selectItem itemLabel="Tipo Forma de pago" itemValue="0" />
												<f:selectItems value="#{carteraMB.tipotransaccions}"
													var="tpt" itemValue="#{tpt.idtipotransaccion}"
													itemLabel="#{tpt.descripcion}" />
											</p:selectOneMenu>
											<p:selectOneMenu panelStyle="width:180px" 
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.idtipoconceptoseleccionado}">
													<f:selectItem itemLabel="Tipo Concepto" itemValue="0" />
													<f:selectItem itemLabel="R.V. Acho" itemValue="10"/>
													<f:selectItem itemLabel="P.P.A. Esp. Lib." itemValue="11" />
													<f:selectItem itemLabel="Otros Ingresos" itemValue="05"/>
													
												</p:selectOneMenu> 
												
											
												<p:selectOneMenu panelStyle="width:130px"
													style="width: 130px;  font-size: 11px;"
													value="#{carteraMB.idtipopagoseleccionado}" >
													<f:selectItem itemLabel="Tipo Pago"
														itemValue="0" />
													<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
														itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
												</p:selectOneMenu>
												
												
												<p:selectOneMenu panelStyle="width:180px" 
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.comprobantepago.comp_concepto}">
													<f:selectItem itemLabel="Concepto de Comprobante" itemValue="0" />
													<f:selectItem itemLabel="Pago por alquiler y/o uso de inmueble" itemValue="1" />
													<f:selectItem itemLabel="Pago por alquiler y/o Espacio libre PPA" itemValue="2"/>
													<f:selectItem itemLabel="Pago por renta variable" itemValue="3" />	
													<f:selectItem itemLabel="Concepto de Garantia" itemValue="4" />													
												</p:selectOneMenu>  

											</h:panelGrid>
											<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Fecha Emisión: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy"
														style="width:150px;" navigator="true" locale="es" 
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}" >
														<p:ajax event="dateSelect"
															listener="#{carteraMB.buscarTipoCambio}"
															update="fechaCancelacion" />
													</p:calendar>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Cancelación: " />
													<p:calendar id="fechaCancelacion" style="width:150px;" pattern="dd-MM-yyyy" mask="true"
														navigator="true" locale="es"
														value="#{carteraMB.comprobantepago.fechacancelacion}"
														readonlyInput="#{carteraMB.sicobrador}" >
													</p:calendar>
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="4" >
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Recibido de Sr.(a)/R. Social:" />
														<p:inputText value="#{carteraMB.comprobantepago.nombrepagante}"
															style="width:250px">
														</p:inputText>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 												   <h:selectOneRadio  id="tipodoc_dniruc" value="1"> -->
<!-- 												   <f:selectItem itemLabel="DNI" itemValue="1" /> -->
<!-- 												   <f:selectItem itemLabel="RUC" itemValue="2" />  -->
<!-- 												   </h:selectOneRadio> -->
<!-- 													<p:inputText  style="width:120px;" id="num_dniruc_pagante" -->
<!-- 														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();"/> -->
<!-- 												</h:panelGrid> -->
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Tipo de Persona :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 117px;  font-size: 11px;"
													value="#{carteraMB.comprobantepago.idtipopersona}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="Natural" itemValue="1"/>
													<f:selectItem itemLabel="Juridica" itemValue="2" />
													<p:ajax event="change" listener="#{carteraMB.cargarTipoDocumentoValido}" update="tiposdocumentos,num_doc_pagante,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc.  :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 110px;  font-size: 11px;" id="tiposdocumentos"
													value="#{carteraMB.comprobantepago.tipodoc_receptor}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="CE" itemValue="4" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="RUC" itemValue="6" itemDisabled="#{carteraMB.habilitarDocRUC}"/>
													  <p:ajax  event="change" listener="#{carteraMB.cargarLongitudTipoDocumento}" update="num_doc_pagante,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												 <h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_doc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="#{carteraMB.longDocuPersona}" onkeypress="return validarKey(event);" />
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
												<h:outputText value="Dirección:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="90" counter="display" value="#{carteraMB.comprobantepago.obs_direccion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />	
											</h:panelGrid>
											
											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Descripción:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="60" counter="display" value="#{carteraMB.comprobantepago.observacion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />													
												</h:panelGrid>
												
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Observación</h3>
											<p:inputTextarea rows="3" cols="90" counter="display" value="#{carteraMB.comprobantepago.glosario}"
												maxlength="200" counterTemplate="{0} caracteres."
												autoResize="false" />
											<br />
											<h:outputText id="display" />
										</h:panelGrid>
											
										</p:panel>


										<h:panelGrid id="total" columns="2"
											style="margin-left:450px;">
											<h:outputLabel value="Subtotal: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalSubTotalComprobante}" />
												
											<h:outputLabel value="IGV: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.igvComprobante}" />
											
											<h:outputLabel value="TOTAL: " style="font-size:16px;" />
											<p:inputText
												style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalComprobante}" >
											<p:ajax event="blur" listener="#{carteraMB.calcularIgvSubtotal}" update="total"/>
											</p:inputText>

										</h:panelGrid>
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											update=":frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validacionRegistrarReciboCaja}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="dlgRegistroPagoOtro.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />

									</div>

								</div>

						</p:dialog>

						<p:confirmDialog message="¿Desea Registrar comprobante de pago?"
							header="Registro Comprobante" severity="alert"
							widgetVar="dlgConfirmarRegistroPagoOtro">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.grabarReciboCaja}"
									onclick="dlgRegistroPagoOtro.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
									update=":frmRegistroPagoOtro,:frmMaestra:listaMensajes" icon="icon-save">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroPagoOtro.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>

					</h:form>
					<!--  REGISTRO DE PAGO OTROS - NOTA DE CREDITO  -->
					<h:form id="frmRegistroPagoOtroNotaCredito">
						<p:dialog header="Nota de Cr&eacute;dito" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroPagoOtroNotaCredito" width="auto"
							height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">

								<div class="RegistroCuotaContrato"
									style="width: auto; height: auto;">
									<div class="RegistroCuotaContratoIzq"
										style="width: auto; height: auto;">


										<br></br>

										<p:panel>
										
												<h:panelGrid columns="4" cellspacing="10" cellpadding="10" style="margin-left:12px; margin-top:10px;">
<!-- 												<p:selectOneMenu panelStyle="width:130px" style="width: 130px;  font-size: 11px;" -->
<!-- 												value="#{carteraMB.idtipodocuseleccionado}" disabled="#{carteraMB.sigarantia}"> -->
<!-- 													<f:selectItem itemLabel="Tipo Documento" itemValue="0" /> -->
<!-- 													<f:selectItem  itemValue="01" itemLabel="Factura" /> -->
<!-- 													<f:selectItem  itemValue="03" itemLabel="Boleta de Venta" /> -->
<!-- 												</p:selectOneMenu> -->
												<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref."/>
												<p:selectOneMenu filterText="Filter" filter="true" filterMatchMode="startsWith" panelStyle="width:160px"
													style="width:160px; float:left;"  value="#{carteraMB.comprobantepagoPadreNotaTipo}"  converter="converterComprobante">
													<f:selectItem itemLabel="Seleccionar" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}" itemValue="#{cp}"/>
													<p:ajax event="change" listener="#{carteraMB.cargarDetalleComprobantePadreParaComprobanteNotaCredito}" 
													update=":frmRegistroPagoOtroNotaCredito:total,:frmMaestra:listaMensajes"/>
												</p:selectOneMenu>
												</h:panelGrid>
												<h:panelGrid columns="1">
												<h:outputText value="Tipo de Rebaja Nota Crédito"/>
												<p:selectOneMenu panelStyle="width:130px" style="width: 160px;  font-size: 12px;"
												value="#{carteraMB.tipoNotaDebitoyCredito}" disabled="#{carteraMB.sigarantia}">
													<f:selectItem itemLabel="Seleccionar" itemValue="0" />
													<f:selectItem  itemValue="Total"   itemLabel="REBAJA TOTAL" />
													<f:selectItem  itemValue="Parcial" itemLabel="REBAJA PARCIAL" />
												</p:selectOneMenu>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Comprobante " /> -->
<!-- 												 <p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 13px;" -->
<!-- 													value="#{carteraMB.sifacturacionelectronica}"> -->
<!-- 													<f:selectItem itemLabel="Electr&oacute;nico" itemValue='true'/> -->
<!-- 													<f:selectItem itemLabel="F&iacute;sico" 	 itemValue='false' /> -->
<!-- 												</p:selectOneMenu>  -->
<!-- 												</h:panelGrid> -->
<!-- 												<p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.idtipoconceptoseleccionado}"> -->
<!-- 													<f:selectItem itemLabel="Tipo Concepto" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="R.V. Acho" itemValue="10"/> -->
<!-- 													<f:selectItem itemLabel="P.P.A. Esp. Lib." itemValue="11" /> -->
<!-- 													<f:selectItem itemLabel="Otros Ingresos" itemValue="05"/> -->
													
<!-- 												</p:selectOneMenu>  -->
												
											
<!-- 												<p:selectOneMenu panelStyle="width:130px" -->
<!-- 													style="width: 130px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.idtipopagoseleccionado}" > -->
<!-- 													<f:selectItem itemLabel="Tipo Pago" -->
<!-- 														itemValue="0" /> -->
<!-- 													<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc" -->
<!-- 														itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" /> -->
<!-- 												</p:selectOneMenu> -->
												
												
<!-- 												<p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.comp_concepto}"> -->
<!-- 													<f:selectItem itemLabel="Concepto de Comprobante" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="Pago por alquiler y/o uso de inmueble" itemValue="1" /> -->
<!-- 													<f:selectItem itemLabel="Pago por alquiler y/o Espacio libre PPA" itemValue="2"/> -->
<!-- 													<f:selectItem itemLabel="Pago por renta variable" itemValue="3" />	 -->
<!-- 													<f:selectItem itemLabel="Concepto de Garantia" itemValue="4" />													 -->
<!-- 												</p:selectOneMenu>   -->

											</h:panelGrid>
											<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Fecha Emisión: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy"
														style="width:150px;" navigator="true" locale="es" 
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}" >
														<p:ajax event="dateSelect"
															listener="#{carteraMB.setearFecha}"
															update="fechaCancelacion" />
													</p:calendar>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Cancelación: " />
													<p:calendar id="fechaCancelacion" style="width:150px;" pattern="dd-MM-yyyy" mask="true"
														navigator="true" locale="es"
														value="#{carteraMB.comprobantepago.fechacancelacion}"
														readonlyInput="#{carteraMB.sicobrador}" >
													</p:calendar>
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="4" >
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Recibido de Sr.(a)/R. Social:" />
														<p:inputText value="#{carteraMB.comprobantepago.nombrepagante}"
															style="width:250px">
														</p:inputText>
												</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Tipo de Persona :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 117px;  font-size: 11px;"
													value="#{carteraMB.comprobantepago.idtipopersona}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="Natural" itemValue="1"/>
													<f:selectItem itemLabel="Juridica" itemValue="2" />
													<p:ajax event="change" listener="#{carteraMB.cargarTipoDocumentoValido}" update="tiposdocumentosNC,num_doc_paganteNC,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc.  :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 110px;  font-size: 11px;" id="tiposdocumentosNC"
													value="#{carteraMB.comprobantepago.tipodoc_receptor}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="CE" itemValue="4" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="RUC" itemValue="6" itemDisabled="#{carteraMB.habilitarDocRUC}"/>
													  <p:ajax  event="change" listener="#{carteraMB.cargarLongitudTipoDocumento}" update="num_doc_paganteNC,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												 <h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_doc_paganteNC"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="#{carteraMB.longDocuPersona}" onkeypress="return validarKey(event);" />
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
												<h:outputText value="Dirección:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="85" counter="display" value="#{carteraMB.comprobantepago.obs_direccion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />	
											</h:panelGrid>
											
											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Descripción:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="56" counter="display" value="#{carteraMB.comprobantepago.observacion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />													
												</h:panelGrid>
												
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Observación</h3>
											<p:inputTextarea rows="3" cols="86" counter="display" value="#{carteraMB.comprobantepago.glosario}"
												maxlength="200" counterTemplate="{0} caracteres."
												autoResize="false" />
											<br />
											<h:outputText id="display" />
										</h:panelGrid>
											
										</p:panel>


										<h:panelGrid id="total" columns="2"
											style="margin-left:450px;">
											<h:outputLabel value="Subtotal: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalSubTotalComprobante}" />
												
											<h:outputLabel value="IGV: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.igvComprobante}" />
											
											<h:outputLabel value="TOTAL: " style="font-size:16px;" />
											<p:inputText
												style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalComprobante}" >
											<p:ajax event="blur" listener="#{carteraMB.calcularIgvSubtotalPagoOtroNotaCredito}" update="total"/>
											</p:inputText>

										</h:panelGrid>
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											update=":frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validacionRegistrarReciboNotaCredito}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="dlgRegistroPagoOtroNotaCredito.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />

									</div>

								</div>

						</p:dialog>

						<p:confirmDialog message="¿Desea Registrar comprobante de pago?"
							header="Registro de Nota de Cr&eacute;dito" severity="alert"
							widgetVar="dlgConfirmarRegistroPagoOtroNotaCredito">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.grabarReciboNotaCredito}"
									onclick="dlgRegistroPagoOtroNotaCredito.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
									update=":frmRegistroPagoOtroNotaCredito,:frmMaestra:listaMensajes" icon="icon-save">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroPagoOtroNotaCredito.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>

					</h:form>
					<!--  REGISTRO DE PAGO OTROS - NOTA DE DÉBITO  -->
					<h:form id="frmRegistroPagoOtroNotaDebito">
						<p:dialog header="Nota de D&eacute;bito" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroPagoOtroNotaDebito" width="auto"
							height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">

								<div class="RegistroCuotaContrato"
									style="width: auto; height: auto;">
									<div class="RegistroCuotaContratoIzq"
										style="width: auto; height: auto;">


										<br></br>

										<p:panel>
										        
												<h:panelGrid columns="4" cellspacing="10" cellpadding="10" style="margin-left:12px; margin-top:10px;" >
<!-- 												<p:selectOneMenu panelStyle="width:130px" style="width: 130px;  font-size: 11px;" -->
<!-- 												value="#{carteraMB.idtipodocuseleccionado}" disabled="#{carteraMB.sigarantia}"> -->
<!-- 													<f:selectItem itemLabel="Tipo Documento" itemValue="0" /> -->
<!-- 													<f:selectItem  itemValue="01" itemLabel="Factura" /> -->
<!-- 													<f:selectItem  itemValue="03" itemLabel="Boleta de Venta" /> -->
<!-- 												</p:selectOneMenu> -->
												<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref."/>
												<p:selectOneMenu filterText="Filter" filter="true" filterMatchMode="startsWith" panelStyle="width:160px"
													style="width:160px; float:left;"  value="#{carteraMB.comprobantepagoPadreNotaTipo}"  converter="converterComprobante">
													<f:selectItem itemLabel="Seleccionar" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}" itemValue="#{cp}"/>
													<p:ajax event="change" listener="#{carteraMB.cargarDetalleComprobantePadreParaComprobanteNotaCredito}" 
													update=":frmRegistroPagoOtroNotaDebito:total,:frmMaestra:listaMensajes"/>
												</p:selectOneMenu>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Comprobante " /> -->
<!-- 												 <p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 13px;" -->
<!-- 													value="#{carteraMB.sifacturacionelectronica}"> -->
<!-- 													<f:selectItem itemLabel="Electronico" itemValue='true'/> -->
<!-- 													<f:selectItem itemLabel="Fisico" 	  itemValue='false' /> -->
<!-- 												</p:selectOneMenu>  -->
<!-- 												</h:panelGrid> -->
												
<!-- 												<p:selectOneMenu panelStyle="width:130px" style="width: 160px;  font-size: 12px;" -->
<!-- 												value="#{carteraMB.tipoConceptoNotaDebito}" disabled="#{carteraMB.sigarantia}"> -->
<!-- 													<f:selectItem itemLabel="Tipo de Nota de Débito" itemValue="0" /> -->
<!-- 													<f:selectItem  itemValue="07"  itemLabel="Mora" /> -->
<!-- 													<f:selectItem  itemValue="17"  itemLabel="Penalidad" /> -->
<!-- 												</p:selectOneMenu> -->
<!-- 												<p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.idtipoconceptoseleccionado}"> -->
<!-- 													<f:selectItem itemLabel="Tipo Concepto" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="R.V. Acho" itemValue="10"/> -->
<!-- 													<f:selectItem itemLabel="P.P.A. Esp. Lib." itemValue="11" /> -->
<!-- 													<f:selectItem itemLabel="Otros Ingresos" itemValue="05"/> -->
													
<!-- 												</p:selectOneMenu>  -->
												
											
<!-- 												<p:selectOneMenu panelStyle="width:130px" -->
<!-- 													style="width: 130px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.idtipopagoseleccionado}" > -->
<!-- 													<f:selectItem itemLabel="Tipo Pago" -->
<!-- 														itemValue="0" /> -->
<!-- 													<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc" -->
<!-- 														itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" /> -->
<!-- 												</p:selectOneMenu> -->
												
												
<!-- 												<p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.comp_concepto}"> -->
<!-- 													<f:selectItem itemLabel="Concepto de Comprobante" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="Pago por alquiler y/o uso de inmueble" itemValue="1" /> -->
<!-- 													<f:selectItem itemLabel="Pago por alquiler y/o Espacio libre PPA" itemValue="2"/> -->
<!-- 													<f:selectItem itemLabel="Pago por renta variable" itemValue="3" />	 -->
<!-- 													<f:selectItem itemLabel="Concepto de Garantia" itemValue="4" />													 -->
<!-- 												</p:selectOneMenu>   -->

											</h:panelGrid>
											<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Fecha Emisión: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy"
														style="width:150px;" navigator="true" locale="es" 
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}" >
														<p:ajax event="dateSelect"
															listener="#{carteraMB.setearFecha}"
															update="fechaCancelacion" />
													</p:calendar>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Cancelación: " />
													<p:calendar id="fechaCancelacion" style="width:150px;" pattern="dd-MM-yyyy" mask="true"
														navigator="true" locale="es"
														value="#{carteraMB.comprobantepago.fechacancelacion}"
														readonlyInput="#{carteraMB.sicobrador}" >
													</p:calendar>
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="4" >
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Recibido de Sr.(a)/R. Social:" />
														<p:inputText value="#{carteraMB.comprobantepago.nombrepagante}"
															style="width:250px">
														</p:inputText>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 												   <h:selectOneRadio  id="tipodoc_dniruc" value="#{carteraMB.opciontipodoc}"> -->
<!-- 												   <f:selectItem itemLabel="DNI" itemValue="1" /> -->
<!-- 												   <f:selectItem itemLabel="RUC" itemValue="2" />  -->
<!-- 												   </h:selectOneRadio> -->
<!-- 													<p:inputText  style="width:120px;" id="num_dniruc_pagante" -->
<!-- 														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardnirucND();"/> -->
<!-- 												</h:panelGrid> -->
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Tipo de Persona :" /> -->
<!-- 												<p:selectOneMenu panelStyle="width:180px"  -->
<!-- 													style="width: 180px;  font-size: 13px;" -->
<!-- 													value="#{carteraMB.comprobantepago.idtipopersona}"> -->
<!-- 													<f:selectItem itemLabel="Seleccionar" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="Natural sin Negocio" itemValue="1"/> -->
<!-- 													<f:selectItem itemLabel="Juridica" itemValue="2" /> -->
<!-- 													<f:selectItem itemLabel="Natural con Negocio" itemValue="3"/> -->
<!-- 												</p:selectOneMenu>  -->
<!-- 												</h:panelGrid> -->
													<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Tipo de Persona :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 117px;  font-size: 11px;"
													value="#{carteraMB.comprobantepago.idtipopersona}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="Natural" itemValue="1"/>
													<f:selectItem itemLabel="Juridica" itemValue="2" />
													<p:ajax event="change" listener="#{carteraMB.cargarTipoDocumentoValido}" update="tiposdocumentos,num_doc_pagante,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc.  :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 110px;  font-size: 11px;" id="tiposdocumentos"
													value="#{carteraMB.comprobantepago.tipodoc_receptor}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="CE" itemValue="4" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="RUC" itemValue="6" itemDisabled="#{carteraMB.habilitarDocRUC}"/>
													  <p:ajax  event="change" listener="#{carteraMB.cargarLongitudTipoDocumento}" update="num_doc_pagante,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												 <h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_doc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="#{carteraMB.longDocuPersona}" onkeypress="return validarKey(event);" />
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
												<h:outputText value="Dirección:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="85" counter="display" value="#{carteraMB.comprobantepago.obs_direccion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />	
											</h:panelGrid>
											
											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Descripción:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="56" counter="display" value="#{carteraMB.comprobantepago.observacion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" />
													<br />													
												</h:panelGrid>
												
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Observación</h3>
											<p:inputTextarea rows="3" cols="86" counter="display" value="#{carteraMB.comprobantepago.glosario}"
												maxlength="200" counterTemplate="{0} caracteres."
												autoResize="false" />
											<br />
											<h:outputText id="display" />
										</h:panelGrid>
											
										</p:panel>


										<h:panelGrid id="total" columns="2"
											style="margin-left:450px;">
<!-- 											<h:outputLabel value="Subtotal: " style="font-size:16px;" /> -->
<!-- 											<h:outputText style="width:80px;font-size:16px;text-align:right;" -->
<!-- 												value="#{carteraMB.totalSubTotalComprobante}" /> -->
												
<!-- 											<h:outputLabel value="IGV: " style="font-size:16px;" /> -->
<!-- 											<h:outputText style="width:80px;font-size:16px;text-align:right;" -->
<!-- 												value="#{carteraMB.igvComprobante}" /> -->
											
											<h:outputLabel value="TOTAL: " style="font-size:16px;" />
											<p:inputText
												style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalComprobante}" >
											<p:ajax event="blur" listener="#{carteraMB.calcularIgvSubtotalPagoOtroNotaDebito}" update="total"/>
											</p:inputText>

										</h:panelGrid>
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											update=":frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validacionRegistrarReciboNotaDebito}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="dlgRegistroPagoOtroNotaDebito.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />

									</div>

								</div>

						</p:dialog>

						<p:confirmDialog message="¿Desea Registrar comprobante de pago?" fixedCenter="true"
							header="Registro de Nota de D&eacute;bito" severity="alert"
							widgetVar="dlgConfirmarRegistroPagoOtroNotaDebito">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.grabarReciboNotaDebito}"
									onclick="dlgRegistroPagoOtroNotaDebito.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
									update=":frmRegistroPagoOtroNotaDebito,:frmMaestra:listaMensajes" icon="icon-save">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroPagoOtroNotaDebito.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>

					</h:form>
<!-- 					REGISTO DE RECIBO DE CAJA - PROPIO FORMATO -->
					
					<h:form id="frmRegistroReciboCaja">
					<p:confirmDialog message="¿Desea Registrar comprobante de pago?"
							header="Registro Comprobante" severity="alert"
							widgetVar="dlgConfirmarRegistroReciboCaja">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.grabarReciboCaja}"
									onclick="dlgRegistroPagoOtro.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
									update=":frmRegistroReciboCaja,:frmMaestra:listaMensajes" icon="icon-save">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroReciboCaja.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>
						
						<!-- Pago Recibo de Caja -->
						<p:dialog header="#{carteraMB.selectedTipoDocumento}" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroReciboCaja" width="820"
							height="520"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">

								<div class="RegistroCuotaContrato"
									style="width: auto; height: auto;">
									<div class="RegistroCuotaContratoIzq"
										style="width: auto; height: auto;">

										<p:panel>
										
												<h:panelGrid columns="4" cellspacing="10" cellpadding="10">
												<p:selectOneMenu panelStyle="width:130px"
												style="width: 130px;  font-size: 11px;"
												value="#{carteraMB.idtipodocuseleccionado}" disabled="true">
												<f:selectItem itemLabel="Tipo Documento"
													itemValue="0" />
												<f:selectItems value="#{carteraMB.listaTipoDocumentos}"
													var="tdoc" itemValue="#{tdoc.idtipodocu}"
													itemLabel="#{tdoc.tipDocu}" />
												</p:selectOneMenu>
												<p:selectOneMenu panelStyle="width:180px" 
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.idtipoconceptoseleccionado}">
													<f:selectItem itemLabel="Tipo Concepto" itemValue="0" />
													<f:selectItem itemLabel="R.V. Acho" itemValue="10" itemDisabled="#{carteraMB.sigarantia}"/>
													<f:selectItem itemLabel="P.P.A. Esp. Lib." itemValue="11" />
<!-- 													itemDisabled="#{carteraMB.sigarantia}" -->
													
													<f:selectItem itemLabel="Pago de Garantía" itemValue="03" />
													<f:selectItem itemLabel="Cartas Fianza Ejecutada" itemValue="12" itemDisabled="#{!carteraMB.sigarantia}"/>
<!-- 													<f:selectItem itemLabel="Recuperación de Arbitrios" itemValue="16" itemDisabled="#{!carteraMB.sigarantia}"/> -->
<!-- 													<f:selectItem itemLabel="Penalización" itemValue="17" itemDisabled="#{!carteraMB.sigarantia}"/> -->
													<f:selectItem itemLabel="Otros Ingresos" itemValue="05" itemDisabled="#{carteraMB.sigarantia}"/>
													
												</p:selectOneMenu>
												
											
												<p:selectOneMenu panelStyle="width:130px"
													style="width: 130px;  font-size: 11px;"
													value="#{carteraMB.idtipopagoseleccionado}" >
													<f:selectItem itemLabel="Tipo Pago" itemValue="0" />
													<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
														itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
												</p:selectOneMenu>

											</h:panelGrid>
											<h:panelGrid columns="4" style="margin-left:11px; margin-top:10px;">
<!-- 												<h:panelGrid columns="1"> -->
<!-- 													<h:outputText value="Nro Serie: " /> -->

<!-- 													<p:inputText value="#{carteraMB.serieFacturacionFisica}" -->
<!-- 														style="width:50px;" maxlength="3" /> -->
<!-- 												</h:panelGrid> -->
<!-- 												<h:panelGrid columns="1"> -->
<!-- 													<h:outputText value="Nro Documento: " /> -->
<!-- 													<p:inputText -->
<!-- 														value="#{carteraMB.correlativoFacturacionFisica}" -->
<!-- 														maxlength="6" /> -->
<!-- 												</h:panelGrid> -->

												<h:panelGrid columns="1" style="margin-left:0px;" >
													<h:outputText value="Fecha Emisión: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy"
														style="width:150px;" navigator="true" locale="es" 
														
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}" >
														<p:ajax event="dateSelect"
															listener="#{carteraMB.buscarTipoCambio}"
															update="fechaCancelacion" />
													</p:calendar>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Cancelación: " />
													<p:calendar id="fechaCancelacion" style="width:150px;" pattern="dd-MM-yyyy" mask="true"
														navigator="true" locale="es"
														value="#{carteraMB.comprobantepago.fechacancelacion}"
														readonlyInput="#{carteraMB.sicobrador}">
													</p:calendar>
												</h:panelGrid>
												<h:panelGrid columns="2">
											       <h:panelGrid  columns="1" style="margin-left:37px;" >
											       		<h:outputText value="Forma de Pago:" />
												<p:selectOneMenu panelStyle="width:180px"
													style="width: 180px;  font-size: 11px;"
													value="#{carteraMB.idtipomodalidadpago}">
													<f:selectItem itemLabel="Seleccionar forma de pago" itemValue="0" />
													<f:selectItems value="#{carteraMB.listatipomodalidadpagos}" var="tmp"
														itemValue="#{tmp.idtipomodalidadpago}" itemLabel="#{tmp.descripciontipo}" />
												</p:selectOneMenu>
											</h:panelGrid>
											</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="4" >
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Recibido de Sr.(a)/R. Social:" />
														<p:inputText value="#{carteraMB.comprobantepago.nombrepagante}"
															style="width:250px" onkeyup="convertir_a_mayuscula(this);">
														</p:inputText>
												</h:panelGrid>
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="DNI/RUC:" /> -->
<!-- 													<p:inputText style="width:120px;" -->
<!-- 														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11"/> -->
<!-- 												</h:panelGrid> -->
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Tipo de Persona :" />
												<p:selectOneMenu panelStyle="width:100px" 
													style="width: 117px;  font-size: 11px;"
													value="#{carteraMB.comprobantepago.idtipopersona}">
													<f:selectItem itemLabel="Seleccione" itemValue="0" />
													<f:selectItem itemLabel="Natural" itemValue="1"/>
													<f:selectItem itemLabel="Juridica" itemValue="2" />
													<p:ajax event="change" listener="#{carteraMB.cargarTipoDocumentoValido}" update="tiposdocumentos,num_doc_pagante,:frmMaestra:listaMensajes" />
												</p:selectOneMenu> 
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc.  :" />
												<p:selectOneMenu panelStyle="width:110px" 
													style="width: 110px;  font-size: 11px;" id="tiposdocumentos"
													value="#{carteraMB.comprobantepago.tipodoc_receptor}">
													<f:selectItem itemLabel="Seleccione " itemValue="0" />
													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="CE" itemValue="4" itemDisabled="#{carteraMB.habilitarDocDNI}"/>
													<f:selectItem itemLabel="RUC" itemValue="6" itemDisabled="#{carteraMB.habilitarDocRUC}"/>
													  <p:ajax  event="change" listener="#{carteraMB.cargarLongitudTipoDocumento}" update="num_doc_pagante,:frmMaestra:listaMensajes" />
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
												</p:selectOneMenu> 
												</h:panelGrid>
										       <h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_doc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="#{carteraMB.longDocuPersona}" onkeypress="return validarKey(event);" />
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="2">
											    <h:panelGrid columns="1" style="margin: 0px 0px -15px 18px;">
												<h:outputText value="Dirección:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="90" counter="display" value="#{carteraMB.comprobantepago.obs_direccion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false"  onkeyup="convertir_a_mayuscula(this);"/>
													<br />	
											    </h:panelGrid>
											</h:panelGrid>
<!-- 											<h:panelGrid columns="2"> -->
<!-- 											       <h:panelGrid  columns="1" style="margin-left:20px;" > -->
<!-- 											       		<h:outputText value="Forma de Pago:" /> -->
<!-- 												<p:selectOneMenu panelStyle="width:180px" -->
<!-- 													style="width: 138px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.idtipomodalidadpago}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione" itemValue="0" /> -->
<!-- 													<f:selectItems value="#{carteraMB.listatipomodalidadpagos}" var="tmp" -->
<!-- 														itemValue="#{tmp.idtipomodalidadpago}" itemLabel="#{tmp.descripciontipo}" /> -->
<!-- 												</p:selectOneMenu> -->
<!-- 											</h:panelGrid> -->
<!-- 											</h:panelGrid> -->

											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>

<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observaciones(Glosa):" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
<!-- 												</h:panelGrid> -->
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Descripción:" />
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.observacion}" /> -->
													<p:inputTextarea rows="1" cols="60"  value="#{carteraMB.comprobantepago.observacion}"
														maxlength="200" counterTemplate="{0} caracteres."
														autoResize="false" onkeyup="convertir_a_mayuscula(this);" />
													<br />													
												</h:panelGrid>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Observación(Glosa)</h3>
											<p:inputTextarea rows="3" cols="90" counter="display" value="#{carteraMB.comprobantepago.glosario}"
												maxlength="400" counterTemplate="{0} caracteres."
												autoResize="false" onkeyup="convertir_a_mayuscula(this);"/>
											<br />
											<h:outputText id="display" />
										</h:panelGrid>
											
										</p:panel>


										<h:panelGrid id="total" columns="2"
											style="margin-left:450px;">
											<h:outputLabel value="Subtotal: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalSubTotalComprobante}" />
												
											<h:outputLabel value="IGV: " style="font-size:16px;" />
											<h:outputText style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.igvComprobante}" />
											
											<h:outputLabel value="TOTAL: " style="font-size:16px;" />
											<p:inputText
												style="width:80px;font-size:16px;text-align:right;"
												value="#{carteraMB.totalComprobante}" >
											<p:ajax event="blur" listener="#{carteraMB.calcularIgvSubtotal}" update="total"/>
											</p:inputText>

										</h:panelGrid>
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											update=":frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validacionRegistrarReciboCaja}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="dlgRegistroReciboCaja.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />

									</div>

								</div>

						</p:dialog>

					</h:form>
<!-- 				FIN REGISTO DE RECIBO DE CAJA - PROPIO FORMATO -->






<!-- 					REGISTRO DOCUMENTO ADMINISTRATIVO - EXTINCION DE DEUDA - PROPIO FORMATO -->


					<h:form id="frmRegistroDocumentoAdministrativo">
						<p:dialog header="#{carteraMB.selectedTipoDocumento}" 
					    closable="true" showEffect="slide" hideEffect="slide" closeOnEscape="true"
						resizable="false"
						widgetVar="dlgRegistroDocumentoAdministrativo" width="auto"
						height="auto"
						style="border-width:9px;border-style:solid;  border-color:#922B21; ">
						<div class="RegistroCuotaContrato" style="width: auto; height: auto;">
							<div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">

								<br></br>
																		
								<p:panel>
									<h:panelGrid columns="3" cellspacing="10" cellpadding="10">
										<p:selectOneMenu panelStyle="width:150px"  disabled="true"
											style="width: 188px;  font-size: 11px;"
											value="#{carteraMB.idtipodocuseleccionado}">
											<f:selectItem itemLabel="Seleccione Tipo Documento"
												itemValue="0" />
											<f:selectItems value="#{carteraMB.listaTipoDocumentos}"
												var="tdoc" itemValue="#{tdoc.idtipodocu}"
												itemLabel="#{tdoc.tipDocu}" />
											<p:ajax event="change"
												listener="#{carteraMB.cambioTipoDocumentoCondicion}"
												update="listaCuotasPendientesPagoRentaCancelar,total" />
										</p:selectOneMenu>

										<p:selectOneMenu panelStyle="width:120px"
											style="width: 138px;  font-size: 11px;"
											value="#{carteraMB.idtipopagoseleccionado}">
											<f:selectItem itemLabel="Seleccione Tipo Pago" itemValue="0" />
											<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
												itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
												
											
											
										</p:selectOneMenu>

										<p:selectOneMenu panelStyle="width:150px"
											style="width: 188px;  font-size: 11px;"
											value="#{carteraMB.idtipomovimientoseleccionado}">
<!-- 											<f:selectItem itemLabel="Seleccione Tipo Movimiento" -->
<!-- 												itemValue="0" /> -->
<!-- 											<f:selectItem itemLabel="Cancelacion Mensual" -->
<!-- 												itemValue="01" /> -->
<!-- 											<f:selectItem itemLabel="Pago a Cuenta" -->
<!-- 												itemValue="02" /> -->
											<f:selectItem itemLabel="Extincion de deuda"
												itemValue="03" />
										</p:selectOneMenu>
									</h:panelGrid>
									
									<h:panelGrid columns="4" style="margin-left:10px; margin-top:10px;">
											<h:panelGrid columns="1">
													<h:outputText value="Nro.: " />

													<p:inputText id="nroDA" value="#{carteraMB.serieFacturacionFisica}" style="width:50px;" maxlength="3" />
													<p:watermark for="nroDA" value="001"  /> 
												</h:panelGrid>
												<h:panelGrid columns="1">
<!-- 													<h:outputText value="Nro Documento: " /> -->
													<h:outputText value="Año: " />
													<p:inputText id="anioDA"
														value="#{carteraMB.correlativoFacturacionFisica}"
														style="width:50px;" maxlength="4" />
													<p:watermark for="anioDA" value="2019" /> 
													
													
												</h:panelGrid>
												<h:panelGrid columns="1" style="margin-left:40px;">
													<h:outputText value="Fecha Ext. Deuda: " />
													<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true"
														styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}" mindate="#{carteraMB.minfechacancelacion}" >
														<p:ajax event="dateSelect"
															listener="#{carteraMB.buscarTipoCambio}"
															update="infoayudaContrato,:frmMaestra:listaMensajes,:frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:pendientePagoRenta" />
													</p:calendar>
												</h:panelGrid>											

<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Fecha Cancelación: " /> -->
<!-- 													<p:calendar id="fechaCancelacion" pattern="dd-MM-yyyy" mask="true" -->
<!-- 														styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es" -->
<!-- 														value="#{carteraMB.comprobantepago.fechacancelacion}" -->
<!-- 														readonlyInput="#{carteraMB.sicobrador}" mindate="#{carteraMB.minfechacancelacion}"> -->
<!-- 														<p:ajax event="dateSelect" -->
<!-- 															listener="#{carteraMB.limpiarListaCuotasPendientesCondicionCancelar}" -->
<!-- 															update=":frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:pendientePagoRenta" /> -->
<!-- 													</p:calendar> -->
<!-- 												</h:panelGrid> -->
												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>
										
									</h:panelGrid>

									<h:panelGrid columns="1" style="margin-left:10px;">
										
										<h:panelGrid columns="1" >
											<h:outputText value="Documentos sustentatorios:" />
<!-- 											<p:inputText style="width:500px;height:60px; word-wrap:break-word;" value="#{carteraMB.comprobantepago.observacion}" /> -->
											<p:inputTextarea  maxlength="1000" rows="6" cols="100" style="width:500px;" 
												value="#{carteraMB.comprobantepago.observacion}"/>
										</h:panelGrid>
									</h:panelGrid>

								</p:panel>

								<br /> <br />

								<p:dataTable id="listaCuotasPendientesPagoRentaCancelar" scrollable="true" scrollHeight="100" tableStyle="width:auto"
									var="cuota" rowKey="#{cuota.mes}"
									value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
									selection="#{carteraMB.cuotaPendienteCondicion}"
									style="text-align:center;font-size:11px;" editMode="cell"
									
									selectionMode="single"
									emptyMessage="No ha agregado ningún pago" editable="true">

									<f:facet name="header">
									
										<p:commandLink id="btnAgregar" style="text-align:center;"
											update=":frmRegistroDocumentoAdministrativo:pendientePagoRenta,:frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validarCabeceraPagoRenta}"> 
											<p:graphicImage width="20" height="20"
												value="../resources/images/monitoreoMesaPartes/addUsuario.png" />
										</p:commandLink>
									</f:facet>

									<p:ajax event="cellEdit"
										listener="#{carteraMB.calcularTotales}"
										update=":frmRegistroDocumentoAdministrativo:total"/>

									<p:column headerText="A&ntilde;o">
										<h:outputText value="#{cuota.anio}" />
									</p:column>

									<p:column headerText="Mes">
										<h:outputText value="#{cuota.mes}" />
									</p:column>

									<p:column headerText="Monto">
										<p:cellEditor >
											<f:facet name="output">
												<h:outputText value="#{cuota.monto}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.monto}" disabled="#{carteraMB.sicobrador}"/>
											</f:facet>

										</p:cellEditor>
									</p:column>

									<p:column headerText="Mora">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.mora}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.mora}" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Acci&oacute;n">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.condicion}" />
											</f:facet>
											<f:facet name="input">
												<h:selectOneMenu value="#{cuota.condicion}"  style="width:100%" disabled="#{!cuota.siActivo}">
													<f:selectItem itemLabel="Cancelado" itemValue="Cancelado" />
												</h:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

								

								</p:dataTable>


								<h:panelGrid id="total" columns="2"
									style="margin-left:445px;text-align:right;margin-top:20px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{carteraMB.totalSubTotalComprobante}" />
									<h:outputLabel value="IGV: "/>
									<h:outputLabel style="width:80px;"
										value="#{carteraMB.igvComprobante}"  />	
									

									<h:outputLabel value="Detracción (10%): " style="color:#181CFF"
										rendered="#{carteraMB.sivisibleigv}" />
									<h:outputLabel value="#{carteraMB.montoDetraccion}"
										style="color:#181CFF" rendered="#{carteraMB.sivisibleigv}" />
									
									<h:outputLabel value="Total Mora: " style="font-size:16px;" />
									<h:outputLabel id="totalMora"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalmora}">
<!-- 										<f:convertNumber pattern="###,###,###,##0.0" /> -->
									</h:outputLabel>
									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{carteraMB.totalComprobante}" />

								</h:panelGrid>

								<p:commandButton id="registrarPagoCuota"
									actionListener="#{carteraMB.validacionRegistrarComprobante}" update=":frmMaestra:listaMensajes"
									value="Registrar" icon="ui-icon-check" />
									
							
							</div>
							<div class="RegistroCuotaContratoDer">
								<div class="infoDialogoCobranza">

									<div class="infoDialogoCobranza_content">

										<div class="subcontenidoInfo_Numero2">
											<h:outputText styleClass="informacion6" value="T.C" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContrato">
												<p:inplace editor="true">
													<h:inputText styleClass="subcontenidoInfo_fila2Estilo"
														value="#{carteraMB.valorTipoCambio}" style="width:30px;" />
												</p:inplace>
												<br />
												<h:outputText styleClass="subcontenidoInfo_fila2Estilo"
													value="#{carteraMB.comprobantepago.fechaemision}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>

									</div>

									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText
												styleClass="infoDialogoCobranzaIGV_content_color"
												value="IGV" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContratoIgv">
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.valorIgv}%" />
												<br />
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.fechaValorIgv}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>
								</div>


								<div class="infoDialogoCobranza" style="margin-top: 30px;">

									<div class="infoDialogoCobranza_header">
										<div class="subcontenidoInfo_logoTitulo" />
										<div class="subcontenidoInfo_descripcionTitulo">
											Descripci&oacute;n</div>
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Período:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="#{carteraMB.periodoSinContrato}" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Meses Cancelados:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format" value="" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Meses Faltantes" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="#{carteraMB.nrocuotaPendienteCancelacion}" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_color"
											style="font-size:14px;" value="Monto Renta:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="S/ 	#{carteraMB.montomensualrenta}" />
									</div>
								</div>
							</div>
						</div>

					</p:dialog>


					<p:dialog width="auto" height="auto" resizable="false"
						closeOnEscape="true" showHeader="true" closable="true"
						widgetVar="dlgPendientePagoRenta"
						showEffect="slide" hideEffect="slide">

						<p:dataTable id="pendientePagoRenta" var="cuota"
							rowKey="#{cuota.nrocuota}" 
							filteredValue="#{carteraMB.listaCuotasPendientesCondicionCancelarFilter}"
							selection="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
							value="#{carteraMB.listaCuotasPendientesCondicion}" scrollable="true" scrollHeight="560" 
							tableStyle="width:auto"
							
							emptyMessage="No tiene Pendientes">
							<p:ajax event="toggleSelect"
									listener="#{carteraMB.calcularTotales}"
									update=":frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:total" />
								
							<p:ajax event="rowSelectCheckbox"
								listener="#{carteraMB.calcularTotales}"
								update=":frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:total" />
							<p:ajax event="rowUnselectCheckbox"
								update=":frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:total"
								listener="#{carteraMB.calcularTotales}" />
							<p:ajax event="rowSelect"
								update=":frmRegistroDocumentoAdministrativo:listaCuotasPendientesPagoRentaCancelar,:frmRegistroDocumentoAdministrativo:total"
								listener="#{carteraMB.calcularTotales}" />
							<p:column selectionMode="multiple" width="15" />

							<p:column>
								<h:outputText value="#{cuota.mes}" />
							</p:column>
							<p:column filterBy="#{cuota.anio}" filterMatchMode="contains">
								<h:outputText value="#{cuota.anio}" />
							</p:column>
							<p:column>
								<h:outputText value="#{cuota.monto}" />
							</p:column>
							<p:column>
								<h:outputText value="#{cuota.condicion}" />
							</p:column>

						</p:dataTable>

					</p:dialog>
					
					<p:confirmDialog id="ingresotipocambioDA" width="300"
						message="Ingrese el tipo de cambio: " header=" TIPO DE CAMBIO" severity="alert"
						widgetVar="dlgIngresarTipoCambioDA">
						<h:inputText value="#{carteraMB.valorTipoCambio}"
							style="margin-left:90px;align-text:right;font-size:15px;" />
						<center>
							<p:commandButton value="Aceptar"
								actionListener="#{carteraMB.cargarInformacionDolares}"
								update=":frmRegistroDocumentoAdministrativo"
								oncomplete="dlgIngresarTipoCambioDA.hide();" icon="icon-save">
							</p:commandButton>

							<p:spacer width="25" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgIngresarTipoCambioDA.hide()" icon="icon-cancel" />
						</center>
					</p:confirmDialog>
	</h:form>

<!-- 				FIN REGISTRO DOCUMENTO ADMINISTRATIVO - PROPIO FORMATO -->

<!-- 					NOTA DE CRÉDITO -->
					<h:form id="formRegistroNotaCreditoTipoDetalle">
						<p:confirmDialog
							message="¿Desea Registrar Nota de cr&eacute;dito?"
							header="Confirmaci&oacute;n" severity="alert"
							widgetVar="dlgConfirmarRegistroNotaCreditoNuevo">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.registrarNotaCredito}"
									onclick="dlgConfirmarRegistroNotaCreditoTipoDetalle.hide(),dlgRegistroNotaCreditoTipoDetalle.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
									update=":formRegistroNotaCreditoTipoDetalle,:frmMaestra:listaMensajes"		
									icon="icon-save">
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroNotaCreditoNuevo.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>
						<p:dialog 	header="Ingresar para continuar" 
							widgetVar="dlgNumeroDocumentoFacturacionFisicaNotaCredito" closeOnEscape="true" resizable="false">
							
							<h:panelGrid columns="2"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.serieFacturacionFisica}"
														style="width:50px;" maxlength="4" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.correlativoFacturacionFisica}"
														maxlength="6" />
												</h:panelGrid>
												
												
							</h:panelGrid>
							<center>
								<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
									actionListener="#{carteraMB.validarNumeroDocumentoFacturacionFisica}">
		
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgNumeroDocumentoFacturacionFisicaNotaCredito.hide();" />
							</center>
							
				</p:dialog>
						<p:dialog 	header="Nota de cr&eacute;dito - #{carteraMB.tipoDescuentoNotaCreditoSeleccionado}" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroNotaCreditoTipoDetalle"
							width="auto" height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">
							<div class="RegistroCuotaContrato" style="width: auto; height: auto;">
								<div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">
									
									<br></br>
									<p:panel>
										<h:panelGrid columns="3" cellspacing="10" cellpadding="10">
											<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref."/>
												
<!-- 												LISTA DE COMPROBANTES PARA APLICAR LA NOTA DE CRÉDITO -->
												<p:selectOneMenu  filterText="Filter" filter="true" filterMatchMode="startsWith" panelStyle="width:160px" 
													style="width:160px; float:left;"  value="#{carteraMB.comprobantepagoPadreNotaTipo}" converter="converterComprobante">
													<f:selectItem itemLabel="Seleccionar" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}" 
														itemValue="#{cp}" />
													<p:ajax event="change" listener="#{carteraMB.cargarDetalleComprobantePadreParaComprobanteNotaTipo}" 
													update=":formRegistroNotaCreditoTipoDetalle:total,:formRegistroNotaCreditoTipoDetalle:mora,tblDetalleComprobantePadre,:frmMaestra:listaMensajes"/>
												</p:selectOneMenu>
												
											
											</h:panelGrid>
											<p:selectOneMenu panelStyle="width:120px" rendered="false"
												style="width: 138px;  font-size: 11px;"
												value="#{carteraMB.idtipopagoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Pago" itemValue="0" />
												<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
													itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
											</p:selectOneMenu>

											<p:selectOneMenu panelStyle="width:150px" rendered="false"
												style="width: 188px;  font-size: 11px;"
												value="#{carteraMB.idtipomovimientoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Movimiento"
													itemValue="0" />
												<f:selectItem itemLabel="Cancelacion Mensual"
													itemValue="01" />
												<f:selectItem itemLabel="Pago a Cuenta"
													itemValue="02" />
											</p:selectOneMenu>
										</h:panelGrid>
										<h:panelGrid columns="4"
											style="margin-left:20px; margin-top:10px;">

											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true"
													styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechaemision}"
													readonlyInput="#{carteraMB.sicobrador}">
													<p:ajax event="dateSelect"
														listener="#{carteraMB.ObtenerFechaCancelacion}"
														update="fechaCancelacion" />
												</p:calendar>
											</h:panelGrid>

											<h:panelGrid columns="1" style="margin-left:30px;">
												<h:outputText value="Fecha Cancelación: " />
												<p:calendar id="fechaCancelacion" styleClass="anchoCalendarCobranzaRegistroPago" pattern="dd-MM-yyyy" mask="true"
													navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechacancelacion}"
													readonlyInput="#{carteraMB.sicobrador}">
												</p:calendar>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc. :" />
													<p:inputText  style="width:90px;" id="tipo_doc_pagante"
														value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0? 
														(carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' :
														 (carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"  readonly="true"/>
<!-- 												<p:selectOneMenu panelStyle="width:110px"  -->
<!-- 													style="width: 117px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione " itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="DNI" itemValue="1" /> -->
<!-- 													<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 												</p:selectOneMenu>  -->
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_dniruc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();" readonly="true"/>
												</h:panelGrid>
										</h:panelGrid>

										<h:panelGrid columns="2" style="margin-left:20px;">
											<h:panelGrid columns="1">
												<h:outputText value="Cobrador:" />
												<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
													value="#{carteraMB.selectedCobrador}"
													style="width:350px" converter="converterCobradorUsuario"
													completeMethod="#{carteraMB.completarUsuarioCobrador}"
													effect="fade" maxResults="10">
												</p:autoComplete>
											</h:panelGrid>

											<h:panelGrid columns="1" style="margin-left:60px;">
												<h:outputText value="Observaciones:" />
												<p:inputText style="width:215px;"
													value="#{carteraMB.comprobantepago.observacion}" />
											</h:panelGrid>											
										</h:panelGrid>
										
									</p:panel>

									<br /> <br />

									<p:dataTable id="tblDetalleComprobantePadre" var="cuota"
										rowKey="#{cuota.mes}"
										value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
										selection="#{carteraMB.cuotaPendienteCondicion}"
										style="text-align:center;font-size:11px;"
										selectionMode="single"
										emptyMessage="No ha agregado ninguna cuota para pagar"
										editable="true" editMode="cell">

										<p:ajax event="cellEdit"
											listener="#{carteraMB.calcularTotales}"
											update=":formRegistroNotaCreditoTipoDetalle:total,:formRegistroNotaCreditoTipoDetalle:mora" />
										<p:column headerText="Nº Cuota">
											<h:outputText value="#{cuota.nrocuota}" />
										</p:column>

										<p:column headerText="Mes">
											<h:outputText value="#{cuota.mes}" />
										</p:column>

										<p:column headerText="Año">
											<h:outputText value="#{cuota.anio}" />
										</p:column>


										<p:column headerText="Monto" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}">
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.monto}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{cuota.monto}" disabled="#{carteraMB.sicobrador}"/>
												</f:facet>
												

											</p:cellEditor>
										</p:column>
										<p:column headerText="Mora" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Mora')}">
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.mora}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{cuota.mora}" disabled="#{carteraMB.sicobrador}"/>
												</f:facet>

											</p:cellEditor>
										</p:column>
										<p:column headerText="Descripci&oacute;n">
											<h:inputText value="#{cuota.observacion}" />
										</p:column>
										
									</p:dataTable>


									<h:panelGrid id="total" columns="2" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}"
										style="margin-left:445px;text-align:right;margin-top:20px;">

										<h:outputLabel value="Subtotal: " />
										<h:outputLabel style="width:80px;"
											value="#{carteraMB.totalSubTotalComprobante}" />

										<h:outputLabel value="IGV: " />
										<h:outputLabel id="igv" style="width:80px;"
											value="#{carteraMB.igvComprobante}" />

										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel style="width:80px;font-size:16px;"
											value="#{carteraMB.totalComprobante}" />
									</h:panelGrid>
									<h:panelGrid id="mora" columns="2" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Mora')}"
										style="margin-left:445px;text-align:right;margin-top:20px;">
										<h:outputLabel value="Total: " style="font-size:16px;" />
										<h:outputLabel id="totalMora"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalmora}">
										<f:convertNumber pattern="###,###,###,##0.00" />
										</h:outputLabel>
									</h:panelGrid>
									<br/>
									<p:commandButton id="registrarPagoCuota"
										actionListener="#{carteraMB.validacionRegistrarComprobanteDescontarRenta}"
										update=":frmMaestra:listaMensajes"
										value="Registrar" icon="ui-icon-circle-check"  />
								</div>								
							</div>
						</p:dialog>
						
					</h:form>
					
<!-- 					FIN NOTA DE CRÉDITO -->
					
<!-- 					ANULAR DOCUMENTO -->
					<h:form id="frmAnularDocumento">
											
						<p:dialog header="ANULAR - COMPROBANTE DE PAGO" closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="widgetDlgAnularComprobante" width="auto"
							height="auto"
							style="border-width:9px;border-style:solid;  border-color:#ffc600; ">

							<p:outputPanel >
								<div class="RegistroCuotaContrato"
									style="width: 650px; height: auto;">
									<div class="RegistroCuotaContratoIzq"
										style="width: 650px; height: auto;">

										<br></br>
										<p:panel>
											<h:panelGrid columns="4" cellspacing="10" cellpadding="10">
												<p:selectOneMenu panelStyle="width:130px"
												style="width: 130px;  font-size: 11px;margin-left:15px;"
												value="#{carteraMB.idtipodocuseleccionado}" >
												<f:selectItem itemLabel="Tipo Documento" itemValue="0" />
												<f:selectItem itemLabel="Boleta de Venta" itemValue="03" />
												<f:selectItem itemLabel="Factura" itemValue="01" />
												<f:selectItem itemLabel="Nota d&eacute;bito" itemValue="08"/>
												<f:selectItem itemLabel="Nota cr&eacute;dito" itemValue="09" />
												<f:selectItem itemLabel="Recibo de caja" itemValue="04" />
												</p:selectOneMenu>

											</h:panelGrid>
											<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.comprobantepago.nroserie}"
														style="width:50px;" maxlength="3" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.comprobantepago.nrocomprobante}"
														maxlength="6" />
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:30px;" >
													<h:outputText value="Fecha Emisión: " />
													<p:calendar   pattern="dd-MM-yyyy" mask="true"
														style="width:150px;" navigator="true" locale="es" 
														value="#{carteraMB.comprobantepago.fechaemision}"
														readonlyInput="#{carteraMB.sicobrador}">
													</p:calendar>
												</h:panelGrid>

											</h:panelGrid>
											
											<h:panelGrid columns="2" style="margin-left:20px;">
												<h:panelGrid columns="1">
													<h:outputText value="Cobrador:" />
													<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
														value="#{carteraMB.selectedCobrador}"
														style="width:350px" converter="converterCobradorUsuario"
														completeMethod="#{carteraMB.completarUsuarioCobrador}"
														effect="fade" maxResults="10">
													</p:autoComplete>
												</h:panelGrid>

												<h:panelGrid columns="1" style="margin-left:20px;">
													<h:outputText value="Observaciones:" />
													<p:inputText style="width:300px;"
														value="#{carteraMB.comprobantepago.observacion}" />
												</h:panelGrid>
											</h:panelGrid>
											
										</p:panel>
										<p:commandButton style="margin-left:450px;margin-top:15px;"
											actionListener="#{carteraMB.validarRegistroAnularComprobante}"
											value="Registrar" icon="ui-icon-circle-check" />

										<p:commandButton style="margin-top:15px;margin-left:5px"
											onclick="widgetDlgAnularComprobante.hide();" value="Cerrar"
											icon="ui-icon-circle-close" />
									</div>

								</div>
							</p:outputPanel>

						</p:dialog>
						
						<p:confirmDialog message="¿Desea registrar comprobante anulado?"
							header="Registro Comprobante Anulado" severity="alert"
							widgetVar="dlgConfirmarRegistroComprobanteAnulado">
							<center>
								<p:commandButton value="&nbsp;Aceptar"
									actionListener="#{carteraMB.anularComprobante}"
									onclick="dlgConfirmarRegistroComprobanteAnulado.hide(),widgetDlgAnularComprobante.hide();"
									update=":frmMaestra:listaMensajes,:frmAnularDocumento" icon="icon-save">

								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgConfirmarRegistroComprobanteAnulado.hide()"
									icon="icon-cancel" />
							</center>
						</p:confirmDialog>
					</h:form>
<!-- 					FIN ANULAR DOCUMENTO -->
			</div>

		

<!-- 				PAGO DE RENTA -->

				<h:form id="formRegistroCuota">
					<p:dialog header="#{carteraMB.selectedTipoDocumento}" closable="true"
						showEffect="slide" hideEffect="slide" closeOnEscape="true"
						resizable="false"
						widgetVar="dlgRegistroCuotaSinContrato" width="auto"
						height="500"
						style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">
						<div class="RegistroCuotaContrato" style="width: auto; height: auto;">
							<div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">

								<br></br>
								<h:panelGrid columns="5" cellspacing="5">
											<h:outputText value="Nº de Operaci&oacute;n: " />
											<p:inputText id="numerooperacion" style="width:120px;text-align:left;" maxlength="11"
												value="#{carteraMB.numerooperacion}" />
										
											
											<h:outputText value="F. Deposito" />
											<p:inputText id="fechaoperacion" style="width:80px;text-align:left;" maxlength="6" 
												value="#{carteraMB.fechaoperacion}" />
												<p:watermark for="fechaoperacion" value="DDMMAA"/>
								</h:panelGrid>
										
								<p:panel>
									<h:panelGrid columns="4" cellspacing="10" cellpadding="10">
										<p:selectOneMenu panelStyle="width:100px"  disabled="true"
											style="width: 100px;  font-size: 11px;"
											value="#{carteraMB.idtipodocuseleccionado}">
											<f:selectItem itemLabel="Seleccione Tipo Documento"
												itemValue="0" />
											<f:selectItems value="#{carteraMB.listaTipoDocumentos}"
												var="tdoc" itemValue="#{tdoc.idtipodocu}"
												itemLabel="#{tdoc.tipDocu}" />
											<p:ajax event="change"
												listener="#{carteraMB.cambioTipoDocumentoCondicion}"
												update="listaCuotasPendientesPagoRentaCancelar,total,:formNotadebitoManual" />
										</p:selectOneMenu>
										
										<p:selectOneMenu panelStyle="width:140px" rendered="#{((carteraMB.idtipodocuseleccionado=='01'|| carteraMB.idtipodocuseleccionado=='09') and carteraMB.sifacturacionelectronica) ? true : false}"
											style="width: 168px;  font-size: 11px;"
											value="#{carteraMB.idtipotransaccionseleccionado}">
											<f:selectItem itemLabel="TRANSACCIÓN CONTADO" itemValue="01" />
											<f:selectItems value="#{carteraMB.tipotransaccions}" var="tpt"
												itemValue="#{tpt.idtipotransaccion}" itemLabel="#{tpt.descripcion}" />
										</p:selectOneMenu>	
										<p:selectOneMenu panelStyle="width:120px"
											style="width: 138px;  font-size: 11px;"
											value="#{carteraMB.idtipopagoseleccionado}">
<!-- 											<f:selectItem itemLabel="Seleccione Tipo Pago" itemValue="0" /> -->
											<f:selectItem itemLabel="Pago en Efectivo" itemValue="01" />
											<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
												itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
												
											<p:ajax event="change" listener="#{carteraMB.cargarReciboCajaReferencia}" update="reciboCajaRef"/>
											
										</p:selectOneMenu>

										<p:selectOneMenu panelStyle="width:150px"
											style="width: 188px;  font-size: 11px;"
											value="#{carteraMB.idtipomovimientoseleccionado}">
<!-- 											<f:selectItem itemLabel="Seleccione Tipo Movimiento" -->
<!-- 												itemValue="0" /> -->
											<f:selectItem itemLabel="Cancelacion Mensual"
												itemValue="01" itemDisabled="#{carteraMB.condicion.equals('Reconocimiento Deuda')? true :false}"/>
									
											<f:selectItem itemLabel="Pago a Cuenta"
												itemValue="02" itemDisabled="#{carteraMB.condicion.equals('Reconocimiento Deuda')? true :false}"/>
											<f:selectItem itemLabel="Extincion de deuda"
												itemValue="05" itemDisabled="#{carteraMB.condicion.equals('Reconocimiento Deuda')? true :false}"/>
											<f:selectItem itemLabel="Pago por Reconocimiento de Deuda" itemDisabled="#{!carteraMB.condicion.equals('Reconocimiento Deuda')? true :false}"
												itemValue="06" />
										</p:selectOneMenu>
									</h:panelGrid>
									<h:panelGrid columns="5"
										style="margin-left:20px; margin-top:10px;">
										
										<h:panelGrid columns="1">
											<h:outputText value="Fecha Emisión: " />
											<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true"
												styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
												value="#{carteraMB.comprobantepago.fechaemision}"
												readonlyInput="#{carteraMB.sifacturacionelectronica}" 
												mindate="#{carteraMB.minfechacancelacion}" >
												<p:ajax event="dateSelect"
													listener="#{carteraMB.buscarTipoCambio}"
													update="infoayudaContrato,:frmMaestra:listaMensajes,fechaCancelacion,fechaVencimiento,:formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:pendientePagoRenta" />
													
													
											</p:calendar>
										</h:panelGrid>
										
										
										<h:panelGrid columns="1" style="margin-left:12px;">
											<h:outputText value="Fecha Cancelación: " />
											<p:calendar id="fechaCancelacion" pattern="dd-MM-yyyy" mask="true"
												styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
												value="#{carteraMB.comprobantepago.fechacancelacion}"
												readonlyInput="#{carteraMB.sifacturacionelectronica}" mindate="#{carteraMB.minfechacancelacion}">
												<p:ajax event="dateSelect"
													listener="#{carteraMB.limpiarListaCuotasPendientesCondicionCancelarboletafactura}"
													update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:pendientePagoRenta,fechaVencimiento" />
													
											</p:calendar>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;" rendered="#{carteraMB.sifacturacionelectronica}">
											<h:outputText value="Fecha Vencimiento: " />
											<p:calendar id="fechaVencimiento" pattern="dd-MM-yyyy" mask="true" 
												styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
												value="#{carteraMB.comprobantepago.fechavencimiento}" 
												mindate="#{carteraMB.minFechaVencimiento}" maxdate="#{carteraMB.maxFechaVencimiento}" 
												readonlyInput="#{carteraMB.sifacturacionelectronica}" >
												<p:ajax event="dateSelect"
													listener="#{carteraMB.limpiarListaCuotasPendientesCondicionCancelar}"
													update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:pendientePagoRenta,fechaCancelacion" />
													
											</p:calendar>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc. :" />
<!-- 												<p:selectOneMenu panelStyle="width:110px"  -->
<!-- 													style="width: 117px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{((carteraMB.idtipodocuseleccionado=='01'|| carteraMB.idtipodocuseleccionado=='09') and carteraMB.sifacturacionelectronica) ? true : false}"/> -->
<!-- 													<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 												</p:selectOneMenu>  -->
													<p:inputText  style="width:90px;" id="tipo_doc_pagante"
														value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0? (carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' : (carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"  readonly="true"/>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_dniruc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();" readonly="true"/>
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="2" style="margin-left:20px;">
										<h:panelGrid columns="1">
											<h:outputText value="Cobrador:" />
											<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
												value="#{carteraMB.selectedCobrador}"
												style="width:350px" converter="converterCobradorUsuario"
												completeMethod="#{carteraMB.completarUsuarioCobrador}"
												effect="fade" maxResults="10">
											</p:autoComplete>
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:63px;">
											<h:outputText value="Observaciones:" />
											<p:inputText style="width:425px;"
												value="#{carteraMB.comprobantepago.observacion}" />
										</h:panelGrid>
										<p:inputText value="#{carteraMB.valorTipoCambio}" id="hiddenfield" type="hidden" />
									</h:panelGrid>

								</p:panel>

								<br /> <br />

								<p:dataTable id="listaCuotasPendientesPagoRentaCancelar"
									var="cuota" rowKey="#{cuota.mes}"
									value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
									selection="#{carteraMB.cuotaPendienteCondicion}"
									style="text-align:center;font-size:11px;" editMode="cell"
									selectionMode="single"
									emptyMessage="No ha agregado ningun pago" editable="true">

									<f:facet name="header">
									
										<p:commandLink id="btnAgregar" style="text-align:center;"
											update=":formRegistroCuota:pendientePagoRenta,:frmMaestra:listaMensajes"
											actionListener="#{carteraMB.validarCabeceraPagoRenta}"> 
											<p:graphicImage width="20" height="20"
												value="../resources/images/monitoreoMesaPartes/addUsuario.png" />
										</p:commandLink>
									</f:facet>

									<p:ajax event="cellEdit"
										listener="#{carteraMB.calcularTotales}"
										update=":formRegistroCuota:total" />
                                   
									<p:column headerText="A&ntilde;o" rendered="#{!carteraMB.condicionSeleccionado.sireconocimientodeuda}">
										<h:outputText value="#{cuota.anio}" />
									</p:column>

									<p:column headerText="#{carteraMB.condicionSeleccionado.sireconocimientodeuda=='true'? 'Cuota':'Mes'}">
										<h:outputText value="#{cuota.mes}" />
									</p:column>	
																

									<p:column headerText="Monto">
										<p:cellEditor >
											<f:facet name="output">
												<h:outputText value="#{cuota.monto}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.monto}" disabled="#{carteraMB.sicobrador || carteraMB.condicionSeleccionado.sireconocimientodeuda }"/>
											</f:facet>

										</p:cellEditor>
									</p:column>

									<p:column headerText="Mora">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.mora}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.mora}" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Penalización">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.montopenalizacion}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{cuota.montopenalizacion}" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Acci&oacute;n">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{cuota.condicion}" />
											</f:facet>
											<f:facet name="input">
												<h:selectOneMenu value="#{cuota.condicion}"  style="width:100%" disabled="#{!cuota.siActivo}">
													<f:selectItem itemLabel="Cancelado" itemValue="Cancelado" />
													<f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />
<!-- 													<f:selectItem itemLabel="Generado" itemValue="Generado"  itemDisabled="#{cuota.siActivo}" /> -->
												</h:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column style="width:2rem" headerText="Detalle Cuota" rendered="#{carteraMB.condicionSeleccionado.sireconocimientodeuda}">
                													<p:rowToggler/>
            												</p:column>
												<p:rowExpansion>
													<h:outputText value="Información de Cuota "
														style="text-align:left  " />
													<p:dataTable id="listaDetalleCuotas"
														value="#{cuota.listacuota}" var="cuotadetalle"
														rowIndexVar="indexdetalle">
														<p:columnGroup type="header">
															<p:row>
<!-- 																<p:column rowspan="2" headerText="#" -->
<!-- 																	style="vertical-align: middle;" /> -->
																
																<p:column rowspan="2" headerText="Concepto"
																	style="vertical-align: middle;" />
																<p:column rowspan="2" headerText="Mes"
																	style="vertical-align: middle;" />
																<p:column rowspan="2" headerText="Año"
																	style="vertical-align: middle;" />
																<p:column rowspan="2" headerText="Monto Deuda"
																	style="vertical-align: middle;" />
															</p:row>
														</p:columnGroup>
<!-- 														<p:column> -->
<!-- 															<h:outputText value="#{(index+1)+(indexdetalle+1)/10}"> -->
<!-- 															</h:outputText> -->
<!-- 														</p:column> -->
														<p:inputText value="#{cuotadetalle.moneda}" id="hiddenmoneda" type="hidden" />
														<p:inputText value="#{cuotadetalle.id_maedcondiciondetalle}" id="hiddenmaedetcondiciondetalle" type="hidden" />
														<p:inputText value="#{cuotadetalle.id_maedetallecondicion}" id="hiddenmaedetallecondicion" type="hidden" />
														<p:inputText value="#{cuotadetalle.montodolar}" id="hiddenmontodolar" type="hidden" />
														<p:column>
															<h:outputText value="#{cuotadetalle.concepto}">
															</h:outputText>
														</p:column>
														<p:column>
															<h:outputText value="#{cuotadetalle.mes}">
															</h:outputText>
														</p:column>
														<p:column>
															<h:outputText value="#{cuotadetalle.anio}">
															</h:outputText>
														</p:column>
														<p:column>
															<h:outputText value="#{cuotadetalle.monto}">
															</h:outputText>
														</p:column>

													</p:dataTable>

												</p:rowExpansion>
									
								

								</p:dataTable>


								<h:panelGrid id="total" columns="2"
									style="margin-left:600px;text-align:right;margin-top:20px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{carteraMB.totalSubTotalComprobante}" />
									<h:outputLabel value="IGV: "/>
									<h:outputLabel style="width:80px;"
										value="#{carteraMB.igvComprobante}"  />	
									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{carteraMB.totalComprobante}" />

									<h:outputLabel value="Detracción (10%): " style="color:#181CFF"
										rendered="#{carteraMB.sivisibleigv}" />
									<h:outputLabel value="#{carteraMB.montoDetraccion}"
										style="color:#181CFF" rendered="#{carteraMB.sivisibleigv}" />
									
									<h:outputLabel value="Total Mora: " style="font-size:16px;" />
									<h:outputLabel id="totalMora"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalmora}">
										<f:convertNumber pattern="###,###,###,##0.00" />
									</h:outputLabel>
									<h:outputLabel value="Total Penalización: " style="font-size:16px;" />
									<h:outputLabel id="totalPenalizacion"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalpenalizacion}">
										<f:convertNumber pattern="###,###,###,##0.00" />
									</h:outputLabel>
									

								</h:panelGrid>

								<p:commandButton id="registrarPagoCuota"
									actionListener="#{carteraMB.validacionRegistrarComprobante}" update=":frmMaestra:listaMensajes"
									value="Registrar" icon="ui-icon-check" />
									
								
							<p:outputPanel id="reciboCajaRef">
							
										<p:dataTable var="ref" value="#{carteraMB.listaReciboCajaReferencia}" selection="#{carteraMB.reciboCajaReferencia}" 
													 rowKey="#{ref.idcomprobante}" rowIndexVar="rowIndex"  rendered="#{carteraMB.sivisibleReciboCajaRef}"
													 emptyMessage="No hay resultados" style="margin:10px;">
									      
									        <p:column selectionMode="single" style="width:16px;text-align:center"/>
									        <p:column headerText="#">
									            <h:outputText value="#{rowIndex+1}" />
									        </p:column>
									        <p:column headerText="Nº Comprobante">
									            <h:outputText value="#{ref.nroseriecomprobante}" />
									        </p:column>
									        <p:column headerText="T.D">
									              <h:outputText value="#{ref.tipodocu.idtipodocu}" />
											</p:column>
											 <p:column headerText="Total">
									            <h:outputText value="#{ref.totalsoles}" />
									        </p:column>

											<p:column headerText="F. Emisión">
		               						  <h:outputText value="#{ref.fechaemision}" >
		               						  <f:convertDateTime pattern="dd/MM/yyyy" />
		               						  </h:outputText>
											</p:column>

											<p:column headerText="F. Cancelaci&oacute;n">
						
			              						<h:outputText value="#{ref.fechacancelacion}" >
			               						  <f:convertDateTime pattern="dd/MM/yyyy" />
			               						</h:outputText>
											</p:column>

									
										</p:dataTable>									
									
							</p:outputPanel>

							</div>
							<div class="RegistroCuotaContratoDer">
								<div class="infoDialogoCobranza">

									<div class="infoDialogoCobranza_content">

										<div class="subcontenidoInfo_Numero2">
											<h:outputText styleClass="informacion6" value="T.C" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContrato">
												<p:inplace editor="true">
													<h:inputText styleClass="subcontenidoInfo_fila2Estilo"
														value="#{carteraMB.valorTipoCambio}" style="width:30px;" />
												</p:inplace>
												<br />
												<h:outputText styleClass="subcontenidoInfo_fila2Estilo"
													value="#{carteraMB.comprobantepago.fechaemision}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>

									</div>

									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText
												styleClass="infoDialogoCobranzaIGV_content_color"
												value="IGV" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContratoIgv">
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.valorIgv}%" />
												<br />
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.fechaValorIgv}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>
								</div>


								<div class="infoDialogoCobranza" style="margin-top: 30px;">

									<div class="infoDialogoCobranza_header">
										<div class="subcontenidoInfo_logoTitulo" />
										<div class="subcontenidoInfo_descripcionTitulo">
											Descripci&oacute;n</div>
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Período:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="#{carteraMB.periodoSinContrato}" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Meses Cancelados:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format" value="" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText styleClass="informacion6"
											style="font-size:14px;" value="Meses Faltantes" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="#{carteraMB.nrocuotaPendienteCancelacion}" />
									</div>

									<div class="infoDialogoCobranza_content"
										style="text-align: center">
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_color"
											style="font-size:14px;" value="Monto Renta:" />
										<br />
										<h:outputText
											styleClass="infoDialogoCobranzaIGV_content_format"
											value="S/ 	#{carteraMB.montomensualrenta}" />
									</div>
								</div>
							</div>
						</div>

					</p:dialog>


					<p:dialog width="auto" height="auto" resizable="false"
						closeOnEscape="true" showHeader="true" closable="true"
						widgetVar="dlgPendientePagoRenta"
						showEffect="slide" hideEffect="slide">

						<p:dataTable id="pendientePagoRenta" var="cuota"
							rowKey="#{cuota.nrocuota}" paginatorPosition="top"
							filteredValue="#{carteraMB.listaCuotasPendientesCondicionCancelarFilter}"
							value="#{carteraMB.listaCuotasPendientesCondicion}"
							paginator="true"
							selection="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
						
							paginatorTemplate=" Ir a p&aacute;gina: {JumpToPageDropdown} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registros por p&aacute;gina: {RowsPerPageDropdown}  &nbsp;  {CurrentPageReport}"
							currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} Registros"
							rowsPerPageTemplate="12,24,36,48,60,72" rows="12" scrollWidth="400px"
							emptyMessage="No tiene Pendientes">
							<p:ajax event="toggleSelect"
									listener="#{carteraMB.calcularTotales}"
									update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:total" />
								
							<p:ajax event="rowSelectCheckbox"
								listener="#{carteraMB.calcularTotales}"
								update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:total" />
							<p:ajax event="rowUnselectCheckbox"
								update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:total"
								listener="#{carteraMB.calcularTotales}" />
							<p:ajax event="rowSelect"
								update=":formRegistroCuota:listaCuotasPendientesPagoRentaCancelar,:formRegistroCuota:total"
								listener="#{carteraMB.calcularTotales}" />

							<p:column selectionMode="multiple" width="15" disabledSelection="#{cuota.condicion.equals('Generado')||cuota.monto==0}"/>

							<p:column width="30" style="text-align: center" headerText="Mes" rendered="#{!carteraMB.condicionSeleccionado.sireconocimientodeuda}">
								<h:outputText value="#{cuota.mes}" />
							</p:column>
							<p:column width="30"  filterBy="#{cuota.anio}" style="text-align: center" filterMatchMode="contains" rendered="#{!carteraMB.condicionSeleccionado.sireconocimientodeuda}">
								<h:outputText value="#{cuota.anio}" />
							</p:column>
							<p:column width="30" style="text-align: center" filterBy="#{cuota.numerocuota}" filterMatchMode="contains" rendered="#{carteraMB.condicionSeleccionado.sireconocimientodeuda}">
								<h:outputText value="#{cuota.numerocuota}" />
							</p:column>
							<p:column width="40" style="text-align: center"   headerText="Vencimiento"  filterMatchMode="contains" rendered="#{carteraMB.condicionSeleccionado.sireconocimientodeuda}">
								<h:outputText value="#{cuota.fechavencimiento}"><f:convertDateTime pattern="dd/MM/yyyy" /></h:outputText>
							</p:column>
							<p:column width="30" style="text-align: center"  headerText="Monto">
								<h:outputText value="#{cuota.monto}" />
							</p:column>
							<p:column width="30"  style="text-align: center" headerText="Condici&oacute;n">
								<h:outputText value="#{cuota.condicion}" />
							</p:column>

						</p:dataTable>

					</p:dialog>

					<p:confirmDialog id="ingresotipocambio" width="300"
						message="Ingrese el tipo de cambio: " header=" TIPO DE CAMBIO" severity="alert"
						widgetVar="dlgIngresarTipoCambio">
						<h:inputText value="#{carteraMB.valorTipoCambio}"
							style="margin-left:90px;align-text:right;font-size:15px;" />
						<center>
							<p:commandButton value="&nbsp;Aceptar"
								actionListener="#{carteraMB.cargarInformacionDolares}"
								update=":formRegistroCuota "
								oncomplete="dlgIngresarTipoCambio.hide();" icon="icon-save">
							</p:commandButton>

							<p:spacer width="25" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgIngresarTipoCambio.hide()" icon="icon-cancel" />
						</center>
					</p:confirmDialog>



				</h:form>

<!-- 			FIN PAGO DE RENTA-->






<!-- 				CONFIRMACION DE PAGO -->
				<h:form>
					<p:confirmDialog message="¿Desea Registrar Pago?"
						header="Registro Cuota" severity="alert"
						widgetVar="dlgConfirmarRegistroCuota">
						<center>
							<p:commandButton value="&nbsp;Aceptar"
								actionListener="#{carteraMB.registrarPagoRenta}"
								onclick="dlgConfirmarRegistroCuota.hide(),dlgRegistroDocumentoAdministrativo.hide(),dlgRegistroCuotaSinContrato.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
								update=":formNotadebito:notadebitoautomatic,:frmMaestra:listaMensajes" icon="icon-save"								
								>
                               
							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroCuota.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>
					<p:confirmDialog message="¿Desea continuar sin modificar la fecha de cancelacion del registro de pago ?"
						header="Registro Cuota" severity="alert"
						widgetVar="dlgMensajeComprobanteFIsicoCuota">
						<center>
							<p:commandButton value="&nbsp;Aceptar"
								actionListener="#{carteraMB.validacionRegistrarComprobantefisico}"
								onclick="dlgMensajeComprobanteFIsicoCuota.hide(),dlgRegistroDocumentoAdministrativo.hide();"
								update=":formNotadebito:notadebitoautomatic,:frmMaestra:listaMensajes" icon="icon-save">

							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgMensajeComprobanteFIsicoCuota.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>

				</h:form>
<!-- 				FIN  CONFIRMACION DE PAGO -->

<!-- 				CONFIRMACION REGISTRO NOTA DEBITO -->
				<h:form>
					<p:dialog width="400" height="100" header="Alerta"
						widgetVar="dlgConfirmarRegistroNotaDebito">
						<br />
						<h:outputLabel
							value="Desea generar nota de débito de la mora incluida del registro anterior" />
						<br />
						<center style="margin-top: 10px;">
							<p:commandButton value="&nbsp;Aceptar" actionListener="#{carteraMB.generacionNotaDebitoAutomatica}" update=":formNotadebito"
								oncomplete="dlgConfirmarRegistroNotaDebito.hide();dlgRegistroNotaDebito.show(); "
								icon="icon-save" />
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotaDebito.hide()"
								icon="icon-cancel" />
						</center>
					</p:dialog>
					<p:dialog width="400" height="100" header="Alerta"
						widgetVar="dlgConfirmarRegistroNotaDebitoPenalizacion">
						<br />
						<h:outputLabel
							value="Desea generar nota de débito de la penalización incluida del registro anterior" />
						<br />
						<center style="margin-top: 10px;">
							<p:commandButton value="&nbsp;Aceptar" actionListener="#{carteraMB.generacionNotaDebitoPenalizacionAutomatica}" update=":formNotadebitoPenalizacion"
								oncomplete="dlgConfirmarRegistroNotaDebitoPenalizacion.hide();dlgRegistroNotaDebitoPenalizacion.show(); "
								icon="icon-save" />
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotaDebitoPenalizacion.hide()"
								icon="icon-cancel" />
						</center>
					</p:dialog>

					<p:confirmDialog message="¿Desea Registrar Nota de débito?"
						header="Registro Nota de Débito" severity="alert"
						widgetVar="dlgConfirmarRegistroNotadebitoAutomatica">
						<center>
							<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
								actionListener="#{carteraMB.registrarNotaDebitoAutomatica}"
								onclick="dlgConfirmarRegistroNotadebitoAutomatica.hide(),dlgRegistroNotaDebito.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
								icon="icon-save">

							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotadebitoAutomatica.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>
					<p:confirmDialog message="¿Desea Registrar Nota de débito?"
						header="Registro Nota de Débito" severity="alert"
						widgetVar="dlgConfirmarRegistroNotadebitoPenalizacionAutomatica">
						<center>
							<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
								actionListener="#{carteraMB.registrarNotaDebitoPenalizacionAutomatica}"
								onclick="dlgConfirmarRegistroNotadebitoPenalizacionAutomatica.hide(),dlgRegistroNotaDebitoPenalizacion.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
								icon="icon-save">

							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotadebitoPenalizacionAutomatica.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>

					<p:confirmDialog message="¿Desea Registrar Nota de débito?"
						header="Registro Nota de Débito" severity="alert"
						widgetVar="dlgConfirmarRegistroNotadebitoManual">
						<center>
							<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
								actionListener="#{carteraMB.registrarNotaDebitoManual}"
								onclick="dlgConfirmarRegistroNotadebitoManual.hide(),dlgRegistroNotaDebitoManual.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
								icon="icon-save">

							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotadebitoManual.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>


				</h:form>
<!--            FIN CONFIRMACION NOTA DE DEBITO -->
				<!--            NOTA DEBITO MANUAL           -->
				<h:form id="formNotadebitoManual">
					<p:dialog header="Nota de d&eacute;bito" closable="true"
						showEffect="slide" hideEffect="slide" closeOnEscape="true"
						resizable="false" widgetVar="dlgRegistroNotaDebitoManual"
						width="auto" height="auto"
						style="border-width:9px;border-style:solid;  border-color:#ffc600; ">
						<div class="RegistroCuotaContrato"
							style="width: auto; height: auto;">
							<div class="RegistroCuotaContratoIzq"
								style="width: auto; height: auto;">

								<br></br>
								<p:outputPanel id="notadebitomanual">
									<p:panel>
										<h:panelGrid columns="3" cellspacing="10" cellpadding="10">

											<h:panelGrid columns="1">
												<h:outputText value="Doc. Referencia " />
												<p:selectOneMenu  value="#{carteraMB.comprobantepagoPadreNotaTipo}" style="width:150px;" converter="converterComprobante"> 
													<f:selectItem itemLabel="Seleccione" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}"
														itemValue="#{cp}" />
													<p:ajax listener="#{carteraMB.setValoresNotaDebito}" update="totalMora" />
												</p:selectOneMenu>
												
											</h:panelGrid>
										</h:panelGrid>
										<h:panelGrid columns="3">
											<h:panelGrid columns="1">
												<h:outputText value="Nombre Cobrador: " />
												<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
													value="#{carteraMB.selectedCobrador}"
													style="width:350px" converter="converterCobradorUsuario"
													completeMethod="#{carteraMB.completarUsuarioCobrador}"
													effect="fade" maxResults="10">
												</p:autoComplete>
											</h:panelGrid>

											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<p:calendar value="#{carteraMB.fechaemisionNotaDebito}" style="width:100px;" pattern="dd-MM-yyyy" mask="true"/>
											</h:panelGrid>

											<h:panelGrid columns="1">
												<h:outputText value="Observaciones:" />
												<p:inputText style="width:180px;" 
													value="#{carteraMB.observacionnotadebito}" />
											</h:panelGrid>

										</h:panelGrid>

									</p:panel>
									<br />
									<br />
									<h:panelGrid columns="2" style="text-align:right;margin-top:10px;">
										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel id="totalMora" style="width:80px;font-size:16px;" value="#{carteraMB.totalmora}" />
									</h:panelGrid>

								</p:outputPanel>
								<p:commandButton actionListener="#{carteraMB.validarRegistroNotaDebito}"  update=":frmMaestra:listaMensajes,:formNotadebito" value="Registrar" icon="ui-icon-check" />
							</div>
						</div>
					</p:dialog>
				</h:form>
				<!--            NOTA DEBITO NUEVO          -->
				<h:form id="formRegistroNotaDebitoTipoDetalle">
				<!-- *********************** mensaje de registrar nuevo nota de debito ********************************-->
					<p:confirmDialog message="¿Desea Registrar Nota de débito?"
						header="Registro Nota de Débito" severity="alert"
						widgetVar="dlgConfirmarRegistroNuevoNotadebito">
						<center>
							<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
								actionListener="#{carteraMB.registrarNuevoNotaDebito}"
								onclick="dlgConfirmarRegistroNuevoNotadebito.hide(),dlgRegistroDebitoTipoDetalle.hide();dlgNumeroDocumentoFacturacionFisicaNotaDebito.hide();"
								icon="icon-save">

							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNuevoNotadebito.hide()"
								icon="icon-cancel" />
						</center>
					</p:confirmDialog>
								 <p:dialog 	header="Ingresar para continuar" 
							widgetVar="dlgNumeroDocumentoFacturacionFisicaNotaDebito" closeOnEscape="true" resizable="false">
							
							<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.serieFacturacionFisica}"
														style="width:50px;" maxlength="4" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.correlativoFacturacionFisica}"
														maxlength="6" />
												</h:panelGrid>
												
							</h:panelGrid>
							<center>
								<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
									actionListener="#{carteraMB.validarNumeroDocumentoFacturacionFisica}">
		
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgNumeroDocumentoFacturacionFisicaNotaDebito.hide();" />
							</center>
							
				</p:dialog>
						<p:dialog 	header="Nota de d&eacute;bito " closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroDebitoTipoDetalle"
							width="auto" height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">
							<div class="RegistroCuotaContrato" style="width: auto; height: auto;">
								<div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">
									
									<br></br>
									<p:panel>
										<h:panelGrid columns="3" cellspacing="10" cellpadding="10">
											<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref."/>
												
<!-- 												LISTA DE COMPROBANTES PARA APLICAR LA NOTA DE DEBITO -->
												<p:selectOneMenu  filterText="Filter" filter="true" filterMatchMode="startsWith" panelStyle="width:160px" 
													style="width:160px; float:left;"  value="#{carteraMB.comprobantepagoPadreNotaTipo}" converter="converterComprobante">
													<f:selectItem itemLabel="Seleccionar" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}" 
														itemValue="#{cp}" />
													<p:ajax event="change" listener="#{carteraMB.cargarDetalleComprobantePadreParaComprobanteNotaDebito}" 
													update=":formRegistroNotaDebitoTipoDetalle:total,:formRegistroNotaDebitoTipoDetalle:mora,tblDetalleComprobantePadre"/>
												</p:selectOneMenu>
											
											</h:panelGrid>

											<p:selectOneMenu panelStyle="width:120px" rendered="false"
												style="width: 138px;  font-size: 11px;"
												value="#{carteraMB.idtipopagoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Pago" itemValue="0" />
												<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
													itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
											</p:selectOneMenu>

											<p:selectOneMenu panelStyle="width:150px" rendered="false"
												style="width: 188px;  font-size: 11px;"
												value="#{carteraMB.idtipomovimientoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Movimiento"
													itemValue="0" />
												<f:selectItem itemLabel="Cancelacion Mensual"
													itemValue="01" />
												<f:selectItem itemLabel="Pago a Cuenta"
													itemValue="02" />
											</p:selectOneMenu>
										</h:panelGrid>
										<h:panelGrid columns="4"
											style="margin-left:20px; margin-top:10px;">

											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true"
													styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechaemision}"
													readonlyInput="#{carteraMB.sicobrador}">
													<p:ajax event="dateSelect"
														listener="#{carteraMB.ObtenerFechaCancelacion}"
														update="fechaCancelacion" />													
												</p:calendar>
											</h:panelGrid>

											<h:panelGrid columns="1" style="margin-left:30px;">
												<h:outputText value="Fecha Cancelación: " />
												<p:calendar id="fechaCancelacion" styleClass="anchoCalendarCobranzaRegistroPago" pattern="dd-MM-yyyy" mask="true"
													navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechacancelacion}"
													readonlyInput="#{carteraMB.sicobrador}">
												</p:calendar>
											</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
											<h:outputText value="Tipo de Doc. :" />
											    <p:inputText  style="width:90px;" 
														value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0? (carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' : (carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"   readonly="true"/>
<!-- 											<p:selectOneMenu panelStyle="width:110px" -->
<!-- 												style="width: 110px;  font-size: 11px;" -->
<!-- 												value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 												<f:selectItem itemLabel="Seleccione " -->
<!-- 													itemValue="0" /> -->
<!-- 												<f:selectItem itemLabel="DNI" itemValue="1"/> -->
<!-- 												<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 												<p:ajax event="change" -->
<!-- 													listener="#{carteraMB.cargarNumeroDeDocumento}" -->
<!-- 													update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 											</p:selectOneMenu> -->

										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
											<h:outputText value="N° Doc. :" />
											<p:inputText style="width:90px;" id="num_dniruc_pagante"
												value="#{carteraMB.comprobantepago.dnirucpagante}"
												maxlength="11" onkeypress="return validardniruc();"
												readonly="true" />
										</h:panelGrid>
									</h:panelGrid>

										<h:panelGrid columns="2" style="margin-left:20px;">
											<h:panelGrid columns="1">
												<h:outputText value="Cobrador:" />
												<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
													value="#{carteraMB.selectedCobrador}"
													style="width:350px" converter="converterCobradorUsuario"
													completeMethod="#{carteraMB.completarUsuarioCobrador}"
													effect="fade" maxResults="10">
												</p:autoComplete>
											</h:panelGrid>

											<h:panelGrid columns="1" style="margin-left:60px;">
												<h:outputText value="Observaciones:" />
												<p:inputText style="width:215px;"
													value="#{carteraMB.comprobantepago.observacion}" />
											</h:panelGrid>
										</h:panelGrid>

									</p:panel>

									<br /> <br />

									<p:dataTable id="tblDetalleComprobantePadre" var="cuota"
										rowKey="#{cuota.nrocuota}"
										value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
										selection="#{carteraMB.cuotaPendienteCondicion}"
										style="text-align:center;font-size:11px;"
										selectionMode="single"
										emptyMessage="No ha agregado ninguna cuota para pagar"
										editable="true" editMode="cell">

										<p:ajax event="cellEdit"
											listener="#{carteraMB.calcularTotales}"
											update=":formRegistroNotaDebitoTipoDetalle:total,:formRegistroNotaDebitoTipoDetalle:mora,tblDetalleComprobantePadre" />

										<p:column headerText="Nº Cuota">
											<h:outputText value="#{cuota.nrocuota}" />
										</p:column>

										<p:column headerText="Mes">
											<h:outputText value="#{cuota.mes}" />
										</p:column>

										<p:column headerText="Año">
											<h:outputText value="#{cuota.anio}" />
										</p:column>


										<p:column headerText="Monto" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}">
<!-- 											<p:cellEditor> -->
<!-- 												<f:facet name="output"> -->
													<h:outputText value="#{cuota.monto}" />
<!-- 												</f:facet> -->
<!-- 												<f:facet name="input"> -->
<!-- 													<p:inputText value="#{cuota.monto}" disabled="#{carteraMB.sicobrador}" /> -->
<!-- 												</f:facet> -->
												

<!-- 											</p:cellEditor> -->
										</p:column>
<!-- 										<p:column headerText="Mora" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Mora')}"> -->
										<p:column headerText="Mora" >
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.mora}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{cuota.mora}" disabled="#{carteraMB.sicobrador}"/>
												</f:facet>

											</p:cellEditor>
										</p:column>
										<p:column headerText="Descripci&oacute;n">
											<h:inputText value="#{cuota.observacion}" />
										</p:column>
										
									</p:dataTable>


									<h:panelGrid id="total" columns="2" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}"
										style="margin-left:445px;text-align:right;margin-top:20px;">

										<h:outputLabel value="Subtotal: " />
										<h:outputLabel style="width:80px;"
											value="#{carteraMB.totalSubTotalComprobante}" />

										<h:outputLabel value="IGV: " />
										<h:outputLabel id="igv" style="width:80px;"
											value="#{carteraMB.igvComprobante}" />

										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel style="width:80px;font-size:16px;"
											value="#{carteraMB.totalComprobante}" />
									</h:panelGrid>
<!-- 									<h:panelGrid id="mora" columns="2" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Mora')}" -->
									<h:panelGrid id="mora" columns="2" 
										style="margin-left:445px;text-align:right;margin-top:20px;">
										<h:outputLabel value="Total Mora: " style="font-size:16px;color:#181CFF" />
										<h:outputLabel id="totalMora"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalmora}">
										<f:convertNumber pattern="###,###,###,##0.00" />
										</h:outputLabel>
									</h:panelGrid>
									<p:commandButton id="registrarPagoCuota"
										actionListener="#{carteraMB.validacionRegistrarComprobanteNotaDebito}"
										value="Registrar" icon="ui-icon-circle-check" update=":frmMaestra:listaMensajes" />
								</div>
								
							</div>

						</p:dialog>
						
						
						
						<p:confirmDialog message="¿Desea Registrar Nota de cr&eacute;dito?"
						header="Confirmaci&oacute;n" severity="alert"
						widgetVar="dlgConfirmarRegistroNotaCreditoTipoDetalle">
						<center>
							<p:commandButton value="&nbsp;Aceptar"
								actionListener="#{carteraMB.registrarNotaCredito}" update=":frmMaestra:listaMensajes"
								onclick="dlgConfirmarRegistroNotaCreditoTipoDetalle.hide(),dlgRegistroNotaCreditoTipoDetalle.hide();dlgNumeroDocumentoFacturacionFisica.hide();"
								icon="icon-save">
							</p:commandButton>
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNotaCreditoTipoDetalle.hide()"
								icon="icon-cancel" />
						</center>
						</p:confirmDialog>
					</h:form>
                <!-- NOTA DE DEBITO PENALIZACION -->
                <h:form id="formRegistroNotaDebitoPenalizacionTipoDetalle">
                  <!-- ***************************mensaje de registrar nuevo nota de debito ************************ -->
                 <p:confirmDialog message="¿Desea Registrar Nota de débito"
                 		header="Registro Nota de Débito" severity="alert"
						widgetVar="dlgConfirmarRegistroNuevoNotadebitoPenalizacion">
						<center>
							<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
								actionListener="#{carteraMB.registrarNuevoNotaDebitoPenalizacion}"
								onclick="dlgConfirmarRegistroNuevoNotadebitoPenalizacion.hide(),dlgRegistroNotaDebitoPenalizacionTipoDetalle.hide();dlgNumeroDocumentoFacturacionFisicaNotaDebitoPenalizacion.hide();"
								icon="icon-save">
							</p:commandButton>	
							<p:spacer width="15" />
							<p:commandButton value="&nbsp;Cancelar"
								oncomplete="dlgConfirmarRegistroNuevoNotadebitoPenalizacion.hide()"
								icon="icon-cancel" />
						</center>						
                 </p:confirmDialog>
                  <p:dialog header="Ingresar para continuar" 
							widgetVar="dlgNumeroDocumentoFacturacionFisicaNotaDebitoPenalizacion" closeOnEscape="true" resizable="false">							
							<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.serieFacturacionFisica}"
														style="width:50px;" maxlength="4" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.correlativoFacturacionFisica}"
														maxlength="6" />
												</h:panelGrid>
												
							</h:panelGrid>
							<center>
								<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
									actionListener="#{carteraMB.validarNumeroDocumentoFacturacionFisica}">
		
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgNumeroDocumentoFacturacionFisicaNotaDebitoPenalizacion.hide();" />
							</center>					
				</p:dialog>
				<p:dialog header="Nota de D&eacute;bito " closable="true"
							showEffect="slide" hideEffect="slide" closeOnEscape="true"
							resizable="false" widgetVar="dlgRegistroNotaDebitoPenalizacionTipoDetalle"
							width="auto" height="auto"
							style="border-width:9px;border-style:solid;  border-color:#c2c2c2; ">
				           <div class="RegistroCuotaContrato" style="width: auto; height: auto;">
				             <div class="RegistroCuotaContratoIzq" style="width: auto; height: auto;">
								<br></br>
								<p:panel>
								  <h:panelGrid columns="3" cellspacing="10" cellpadding="10">
								            <h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref."/>
												
<!-- 												LISTA DE COMPROBANTES PARA APLICAR LA NOTA DE CRÉDITO -->
												<p:selectOneMenu  filterText="Filter" filter="true" filterMatchMode="startsWith" panelStyle="width:160px" 
													style="width:160px; float:left;"  value="#{carteraMB.comprobantepagoPadreNotaTipo}" converter="converterComprobante">
													<f:selectItem itemLabel="Seleccionar" itemValue=""/>
													<f:selectItems value="#{carteraMB.listacomprobantes}" var="cp" itemLabel="#{cp.nroseriecomprobante}" 
														itemValue="#{cp}" />
													<p:ajax event="change" listener="#{carteraMB.cargarDetalleComprobantePadreParaComprobanteNotaDebito}" 
													update=":formRegistroNotaDebitoPenalizacionTipoDetalle:total,:formRegistroNotaDebitoPenalizacionTipoDetalle:penalizacion,tblDetalleComprobantePadre"/>
												</p:selectOneMenu>
											
											</h:panelGrid>
											<p:selectOneMenu panelStyle="width:120px" rendered="false"
												style="width: 138px;  font-size: 11px;"
												value="#{carteraMB.idtipopagoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Pago" itemValue="0" />
												<f:selectItems value="#{carteraMB.tipopagos}" var="tdoc"
													itemValue="#{tdoc.idtipopago}" itemLabel="#{tdoc.tipPago}" />
											</p:selectOneMenu>
											<p:selectOneMenu panelStyle="width:150px" rendered="false"
												style="width: 188px;  font-size: 11px;"
												value="#{carteraMB.idtipomovimientoseleccionado}">
												<f:selectItem itemLabel="Seleccione Tipo Movimiento"
													itemValue="0" />
												<f:selectItem itemLabel="Cancelacion Mensual"
													itemValue="01" />
												<f:selectItem itemLabel="Pago a Cuenta"
													itemValue="02" />
											</p:selectOneMenu>
								  </h:panelGrid>
								  <h:panelGrid columns="4"
											style="margin-left:20px; margin-top:10px;">
											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<p:calendar id="idDetalleCuota_fecharegistro" pattern="dd-MM-yyyy" mask="true"
													styleClass="anchoCalendarCobranzaRegistroPago" navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechaemision}"
													readonlyInput="#{carteraMB.sicobrador}">
													<p:ajax event="dateSelect"
														listener="#{carteraMB.ObtenerFechaCancelacion}"
														update="fechaCancelacion" />
												</p:calendar>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:30px;">
												<h:outputText value="Fecha Cancelación: " />
												<p:calendar id="fechaCancelacion" styleClass="anchoCalendarCobranzaRegistroPago" pattern="dd-MM-yyyy" mask="true"
													navigator="true" locale="es"
													value="#{carteraMB.comprobantepago.fechacancelacion}"
													readonlyInput="#{carteraMB.sicobrador}">
												</p:calendar>
											</h:panelGrid>	
											<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc. :" />
<!-- 												<p:selectOneMenu panelStyle="width:110px"  -->
<!-- 													style="width: 110px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="DNI" itemValue="1" /> -->
<!-- 													<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 												</p:selectOneMenu>  -->
													<p:inputText  style="width:90px;" id="tipo_doc_pagante"
													value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0? 
													(carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' : 
													(carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"   readonly="true"/>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_dniruc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();" readonly="true"/>
												</h:panelGrid>								
								 </h:panelGrid>
								 <h:panelGrid columns="2" style="margin-left:20px;">
											<h:panelGrid columns="1">
												<h:outputText value="Cobrador:" />
												<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
													value="#{carteraMB.selectedCobrador}"
													style="width:350px" converter="converterCobradorUsuario"
													completeMethod="#{carteraMB.completarUsuarioCobrador}"
													effect="fade" maxResults="10">
												</p:autoComplete>
											</h:panelGrid>

											<h:panelGrid columns="1" style="margin-left:60px;">
												<h:outputText value="Observaciones:" />
												<p:inputText style="width:215px;"
													value="#{carteraMB.comprobantepago.observacion}" />
											</h:panelGrid>
								 </h:panelGrid>
								</p:panel>
								<br /> <br />
								<p:dataTable id="tblDetalleComprobantePadre" var="cuota"
										rowKey="#{cuota.nrocuota}"
										value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
										selection="#{carteraMB.cuotaPendienteCondicion}"
										style="text-align:center;font-size:11px;"
										selectionMode="single"
										emptyMessage="No ha agregado ninguna cuota para pagar"
										editable="true" editMode="cell">

										<p:ajax event="cellEdit"
											listener="#{carteraMB.calcularTotales}"
											update=":formRegistroNotaDebitoPenalizacionTipoDetalle:total,:formRegistroNotaDebitoPenalizacionTipoDetalle:penalizacion,tblDetalleComprobantePadre" />
										<p:column headerText="Nº Cuota">
											<h:outputText value="#{cuota.nrocuota}" />
										</p:column>
										<p:column headerText="Mes">
											<h:outputText value="#{cuota.mes}" />
										</p:column>
										<p:column headerText="Año">
											<h:outputText value="#{cuota.anio}" />
										</p:column>
										<p:column headerText="Monto" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}">
													<h:outputText value="#{cuota.monto}" />
										</p:column>
										<p:column headerText="Penalización" >
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{cuota.montopenalizacion}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{cuota.montopenalizacion}" disabled="#{carteraMB.sicobrador}"/>
												</f:facet>

											</p:cellEditor>
										</p:column>
										<p:column headerText="Descripci&oacute;n">
											<h:inputText value="#{cuota.observacion}" />
										</p:column>										
									</p:dataTable>
									<h:panelGrid id="total" columns="2" rendered="#{carteraMB.tipoDescuentoNotaCreditoSeleccionado.equals('Renta')}"
										style="margin-left:445px;text-align:right;margin-top:20px;">

										<h:outputLabel value="Subtotal: " />
										<h:outputLabel style="width:80px;"
											value="#{carteraMB.totalSubTotalComprobante}" />

										<h:outputLabel value="IGV: " />
										<h:outputLabel id="igv" style="width:80px;"
											value="#{carteraMB.igvComprobante}" />

										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel style="width:80px;font-size:16px;"
											value="#{carteraMB.totalComprobante}" />
									</h:panelGrid>
									<h:panelGrid id="penalizacion" columns="2" 
										style="margin-left:445px;text-align:right;margin-top:20px;">
										<h:outputLabel value="Total Penalización: " style="font-size:16px;color:#181CFF" />
										<h:outputLabel id="totalpenalizacion"
											style="width:80px;font-size:16px;"
											value="#{carteraMB.totalpenalizacion}">
										<f:convertNumber pattern="###,###,###,##0.00" />
										</h:outputLabel>
									</h:panelGrid>
									<p:commandButton id="registrarPagoCuota"
										actionListener="#{carteraMB.validacionRegistrarComprobanteNotaDebito}"
										value="Registrar" icon="ui-icon-circle-check" update=":frmMaestra:listaMensajes" />								
							 </div>
				           </div>
				</p:dialog>
				
                </h:form>
                
                <!-- ****************  FIN DE NOTA DE DEBITO PENALIZACION  *********************************-->
                
				<h:form id="formNotadebito">
					<p:dialog header="Nota de D&eacute;bito" closable="true"
						showEffect="slide" hideEffect="slide" closeOnEscape="true"
						resizable="false" widgetVar="dlgRegistroNotaDebito" width="700"
						height="310"
						style="border-width:9px;border-style:solid;  border-color:#ffc600; ">
						<div class="RegistroCuotaContrato"
							style="width: 575px; height: 300px;">
							<div class="RegistroCuotaContratoIzq"
								style="width: 500px; height: 300px;">

								<br></br>
								<p:outputPanel id="notadebitoautomatic">
									<p:panel>
										<h:panelGrid columns="4">

											<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref.  " />
												<h:outputLabel value="#{carteraMB.nrocomprobantepadrenotadebito}" />
											</h:panelGrid>

											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<h:outputLabel value="#{carteraMB.fechaemisionNotaDebito}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputLabel>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc. :" />
													<p:inputText  style="width:90px;" id="tipo_doc_pagante"
														value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0?
														 (carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' : 
														 (carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"  readonly="true"/>
<!-- 												<p:selectOneMenu panelStyle="width:110px"  -->
<!-- 													style="width: 117px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{((carteraMB.idtipodocuseleccionado=='01'|| carteraMB.idtipodocuseleccionado=='09') and carteraMB.sifacturacionelectronica) ? true : false}"/> -->
<!-- 													<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 												</p:selectOneMenu>  -->
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_dniruc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();" readonly="true"/>
										</h:panelGrid>

										</h:panelGrid>
										<h:panelGrid columns="2">
											<h:outputText value="Observaciones:" />
											<p:inputText style="width:215px;" rows="3" cols="50"
												value="#{carteraMB.observacionnotadebito}" />
										</h:panelGrid>
									</p:panel>
									<p:dataTable  id="listaCuotasPendientesPagoRentaCancelar" var="cuota" rowKey="#{cuota.mes}" 
									value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
									>
									<p:column headerText="A&ntilde;o">
										<h:outputText value="#{cuota.anio}" />
									</p:column>
									<p:column headerText="Mes">
										<h:outputText value="#{cuota.mes}" />
									</p:column>
									<p:column headerText="Mora">
										<h:outputText value="#{cuota.mora}" />
									</p:column>
									<p:column headerText="Descripcion">
										<h:inputText value="#{cuota.observacion}" />
									</p:column>
									</p:dataTable>
									<br />
									<br />
									<h:panelGrid id="total" columns="2" style="margin-left:225px;text-align:right;margin-top:10px;">
										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel style="width:80px;font-size:16px;" value="#{carteraMB.totalmora}" />
									</h:panelGrid>
								</p:outputPanel>
								<p:commandButton actionListener="#{carteraMB.validarRegistroNotaDebito}" update=":frmMaestra:listaMensajes" value="Registrar" icon="ui-icon-check" />
							</div>
							<div class="RegistroCuotaContratoDer"
								style="width: 80px; height: 200px; margin-left: 496px; margin-top: -282px;">
								<div class="infoDialogoCobranza">
									<div class="infoDialogoCobranza_header">
										<div class="subcontenidoInfo_logoTitulo" />
										<div class="subcontenidoInfo_descripcionTitulo">
											Descripci&oacute;n</div>
									</div>
									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText styleClass="informacion6" value="T.C" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContrato">
												<p:inplace editor="true">
													<h:inputText styleClass="subcontenidoInfo_fila2Estilo"
														value="#{carteraMB.valorTipoCambio}" style="width:30px;" />
												</p:inplace>
												<br />
												<h:outputText styleClass="subcontenidoInfo_fila2Estilo"
													value="#{carteraMB.comprobantepago.fechaemision}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>

									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText
												styleClass="infoDialogoCobranzaIGV_content_color"
												value="IGV" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContratoIgv">
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.valorIgv}%" />
												<br />
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.fechaValorIgv}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>
								</div>
							</div>
						</div>
					</p:dialog>
					
				 <p:confirmDialog message="Seleccione el tipo de facturación"
							header="TIPO DE FACTURACIÓN" 
							widgetVar="dlgElegirTipoFacturacion">
							<center>
								<p:commandButton value="Física" actionListener="#{carteraMB.verificarPermisoCobro('Fisica')}" onclick="dlgElegirTipoFacturacion.hide();" update=":frmMaestra:listaMensajes,:formRegistroCuota,:frmRegistroPagoOtro"/>
								<p:spacer width="15" />
								<p:commandButton value="Electrónica" actionListener="#{carteraMB.verificarPermisoCobro('Electronica')}" onclick="dlgElegirTipoFacturacion.hide();" update=":frmMaestra:listaMensajes,:formRegistroCuota,:frmRegistroPagoOtro"/>
							</center>
				</p:confirmDialog>
				
				
				 <p:dialog 	header="Ingresar para continuar" 
							widgetVar="dlgNumeroDocumentoFacturacionFisica" closeOnEscape="true" resizable="false">
							
							<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.serieFacturacionFisica}"
														style="width:50px;" maxlength="4" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.correlativoFacturacionFisica}"
														maxlength="6" />
												</h:panelGrid>
												
							</h:panelGrid>
							<center>
								<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
									actionListener="#{carteraMB.validarNumeroDocumentoFacturacionFisica}">
		
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgNumeroDocumentoFacturacionFisica.hide();" />
							</center>
							
				</p:dialog>
			</h:form>
			<h:form id="formNotadebitoPenalizacion">
					<p:dialog header="Nota de D&eacute;bito" closable="true"
						showEffect="slide" hideEffect="slide" closeOnEscape="true"
						resizable="false" widgetVar="dlgRegistroNotaDebitoPenalizacion" width="700"
						height="310"
						style="border-width:9px;border-style:solid;  border-color:#ffc600; width: 640px ">
						<div class="RegistroCuotaContrato"
							style="width: 575px; height: 300px;">
							<div class="RegistroCuotaContratoIzq"
								style="width: 600px; height: 300px;">

								<br></br>
								<p:outputPanel id="notadebitoautomatic">
									<p:panel>
										<h:panelGrid columns="4">

											<h:panelGrid columns="1">
												<h:outputText value="Nº Comp.de Ref.  " />
												<h:outputLabel value="#{carteraMB.nrocomprobantepadrenotadebito}" />
											</h:panelGrid>

											<h:panelGrid columns="1">
												<h:outputText value="Fecha Emisión: " />
												<h:outputLabel value="#{carteraMB.fechaemisionNotaDebito}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputLabel>
											</h:panelGrid>
											<h:panelGrid columns="1" style="margin-left:12px;">
													<h:outputText value="Tipo de Doc. :" />
<!-- 												<p:selectOneMenu panelStyle="width:110px"  -->
<!-- 													style="width: 117px;  font-size: 11px;" -->
<!-- 													value="#{carteraMB.comprobantepago.tipodoc_receptor}"> -->
<!-- 													<f:selectItem itemLabel="Seleccione" itemValue="0" /> -->
<!-- 													<f:selectItem itemLabel="DNI" itemValue="1" itemDisabled="#{((carteraMB.idtipodocuseleccionado=='01'|| carteraMB.idtipodocuseleccionado=='09') and carteraMB.sifacturacionelectronica) ? true : false}"/> -->
<!-- 													<f:selectItem itemLabel="RUC" itemValue="6" /> -->
<!-- 													<p:ajax event="change" listener="#{carteraMB.cargarNumeroDeDocumento}" update="num_dniruc_pagante,:frmMaestra:listaMensajes" /> -->
<!-- 												</p:selectOneMenu>  -->
													<p:inputText  style="width:90px;" id="tipo_doc_pagante"
														value="#{carteraMB.comprobantepago.tipodoc_receptor.length()>0? 
														(carteraMB.comprobantepago.tipodoc_receptor=='6'? 'RUC' : 
														(carteraMB.comprobantepago.tipodoc_receptor=='1'? 'DNI':'C.E.')) :''}"  readonly="true"/>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:12px;">
												   <h:outputText value="N° de Doc. :" />
													<p:inputText  style="width:90px;" id="num_dniruc_pagante"
														value="#{carteraMB.comprobantepago.dnirucpagante}" maxlength="11" onkeypress="return validardniruc();" readonly="true"/>
										</h:panelGrid>

										</h:panelGrid>
										<h:panelGrid columns="2">
											<h:outputText value="Observaciones:" />
											<p:inputText style="width:215px;" rows="3" cols="50"
												value="#{carteraMB.observacionnotadebitopenalizacion}" />
										</h:panelGrid>
									</p:panel>
									<p:dataTable  id="listaCuotasPendientesPagoRentaCancelar" var="cuota" rowKey="#{cuota.mes}" 
									value="#{carteraMB.listaCuotasPendientesCondicionCancelar}"
									>
									<p:column headerText="A&ntilde;o">
										<h:outputText value="#{cuota.anio}" />
									</p:column>
									<p:column headerText="Mes">
										<h:outputText value="#{cuota.mes}" />
									</p:column>
									<p:column headerText="Penalizaci&oacute;n" >
										<h:outputText value="#{cuota.montopenalizacion}" />
									</p:column>
									<p:column headerText="Descripci&oacute;n">
										<h:inputText value="#{cuota.observacionpenalizacion}" />
									</p:column>
									</p:dataTable>
									<br />
									<br />
									<h:panelGrid id="total" columns="2" style="margin-left:225px;text-align:right;margin-top:10px;">
										<h:outputLabel value="TOTAL: " style="font-size:16px;" />
										<h:outputLabel style="width:80px;font-size:16px;" value="#{carteraMB.totalpenalizacion}" />
									</h:panelGrid>
								</p:outputPanel>
								<p:commandButton actionListener="#{carteraMB.validarRegistroNotaDebitoPenalizacion}" update=":frmMaestra:listaMensajes" value="Registrar" icon="ui-icon-check" />
							</div>
							<div class="RegistroCuotaContratoDer"
								style="width: 80px; height: 200px; margin-left: 598px; margin-top: -282px;">
								<div class="infoDialogoCobranza">
									<div class="infoDialogoCobranza_header">
										<div class="subcontenidoInfo_logoTitulo" />
										<div class="subcontenidoInfo_descripcionTitulo">
											Descripci&oacute;n</div>
									</div>
									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText styleClass="informacion6" value="T.C" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContrato">
												<p:inplace editor="true">
													<h:inputText styleClass="subcontenidoInfo_fila2Estilo"
														value="#{carteraMB.valorTipoCambio}" style="width:30px;" />
												</p:inplace>
												<br />
												<h:outputText styleClass="subcontenidoInfo_fila2Estilo"
													value="#{carteraMB.comprobantepago.fechaemision}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>

									<div class="infoDialogoCobranza_content">
										<div class="subcontenidoInfo_Numero2">
											<h:outputText
												styleClass="infoDialogoCobranzaIGV_content_color"
												value="IGV" />
										</div>
										<div class="infoDialogoCobranza_detalle">
											<p:outputPanel id="infoayudaContratoIgv">
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.valorIgv}%" />
												<br />
												<h:outputText
													styleClass="infoDialogoCobranzaIGV_content_format"
													value="#{carteraMB.fechaValorIgv}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:outputPanel>
										</div>
									</div>
								</div>
							</div>
						</div>
					</p:dialog>
					
				 <p:confirmDialog message="Seleccione el tipo de facturación"
							header="TIPO DE FACTURACIÓN" 
							widgetVar="dlgElegirTipoFacturacion">
							<center>
								<p:commandButton value="Física" actionListener="#{carteraMB.verificarPermisoCobro('Fisica')}" onclick="dlgElegirTipoFacturacion.hide();" update=":frmMaestra:listaMensajes,:formRegistroCuota,:frmRegistroPagoOtro"/>
								<p:spacer width="15" />
								<p:commandButton value="Electrónica" actionListener="#{carteraMB.verificarPermisoCobro('Electronica')}" onclick="dlgElegirTipoFacturacion.hide();" update=":frmMaestra:listaMensajes,:formRegistroCuota,:frmRegistroPagoOtro"/>
							</center>
				</p:confirmDialog>
				
				
				 <p:dialog 	header="Ingresar para continuar" 
							widgetVar="dlgNumeroDocumentoFacturacionFisica" closeOnEscape="true" resizable="false">
							
							<h:panelGrid columns="4"
												style="margin-left:20px; margin-top:10px;">
												<h:panelGrid columns="1">
													<h:outputText value="Nro Serie: " />

													<p:inputText value="#{carteraMB.serieFacturacionFisica}"
														style="width:50px;" maxlength="4" />
												</h:panelGrid>
												<h:panelGrid columns="1">
													<h:outputText value="Nro Documento: " />
													<p:inputText
														value="#{carteraMB.correlativoFacturacionFisica}"
														maxlength="6" />
												</h:panelGrid>
												
							</h:panelGrid>
							<center>
								<p:commandButton value="&nbsp;Aceptar" update=":frmMaestra:listaMensajes"
									actionListener="#{carteraMB.validarNumeroDocumentoFacturacionFisica}">
		
								</p:commandButton>
								<p:spacer width="15" />
								<p:commandButton value="&nbsp;Cancelar"
									oncomplete="dlgNumeroDocumentoFacturacionFisica.hide();" />
							</center>
							
				</p:dialog>
			</h:form>
			
			</div>

		</div>

	</div>
	


	<!--**************************************** PANEL CONSULTAS********************************** -->
	<div id="idDivRegistroConsulta" class="recau_panelPendientes">
		<div class="contenidoConsultaRegistroComprobante">

			<h:form id="formConsultaComprobantes" enctype="multipart/form-data">

				<p:tabView id="tabView" style="margin-top:10px;" effect="slide">

					<p:ajax event="tabChange"
						listener="#{cobranzaConsultaMB.limpiarBusqueda}"
						update="panelCartera,panelUpa,panelInquilino,panelCobrador,panelNrodocumento,:formConsultaComprobantes:outoutpanelDescarga,:formConsultaComprobantes:outoutpanelDescarga2,:formConsultaComprobantes:outoutpanelDescarga3" />

					<p:tab title="Mis Registros">
						<p:outputPanel id="panelCartera">

							<h:panelGrid>
								<h:outputText value="Intervalo Fecha: " />
							</h:panelGrid>

							<h:panelGrid columns="5">
								<p:calendar id="inicio" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.desdeCartera}" navigator="true" locale="es">
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdecartera}" update="fin"/>
								</p:calendar>	
								<p:watermark for="inicio" value="Desde" />
								<p:calendar id="fin" value="#{cobranzaConsultaMB.hastaCartera}" pattern="dd-MM-yyyy" mask="true"
									navigator="true" locale="es" />
								<p:watermark for="fin" value="Hasta" />
								
								
								<p:commandButton icon="ui-icon-search" value="Buscar"
									actionListener="#{cobranzaConsultaMB.buscarComprobantesUsuario}"
									update=":formConsultaComprobantes:listacomprobantespago,:formConsultaComprobantes:total" />

							</h:panelGrid>
						</p:outputPanel>
					</p:tab>
					         <!-- *****************************************UPA********************************************************* -->
					<p:tab title="Upa" >
						<p:outputPanel id="panelUpa">
							<h:panelGrid>
								<h:outputText value="Clave de Upa: " />
									<p:inputMask mask="**-****-***" value="#{cobranzaConsultaMB.claveupa}"
										style="width:90px;text-align:center;font-size:15px;">
									</p:inputMask>
								</h:panelGrid>

							<h:panelGrid columns="5">
								<p:calendar id="inicio2" value="#{cobranzaConsultaMB.desdeUpa}" pattern="dd-MM-yyyy" mask="true"
									navigator="true" locale="es" >
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdeupa}" update="fin2"/>
								</p:calendar>
								<p:watermark for="inicio2" value="Desde" />
								<p:calendar id="fin2" value="#{cobranzaConsultaMB.hastaUpa}" pattern="dd-MM-yyyy" mask="true"
									navigator="true" locale="es" /> 
								<p:watermark for="fin2" value="Hasta" />
								
								<p:commandButton icon="ui-icon-search" value="Buscar"
									actionListener="#{cobranzaConsultaMB.buscarComprobantesUpa}"
										update=":formConsultaComprobantes:listacomprobantespago" />
																

							</h:panelGrid>

						</p:outputPanel>
					</p:tab>
	               <!-- *****************************************INQUILINO********************************************************* -->
					<p:tab title="Inquilino" >
						<p:outputPanel id="panelInquilino">
							<h:panelGrid>
								<h:outputText value="Nombre Inquilino: " />
								<h:inputText value="#{cobranzaConsultaMB.nombreinquilino}"
									style="width:300px"/>
							</h:panelGrid>

							<h:panelGrid columns="5">
								<p:calendar id="inicioInquilino" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.desdeInquilino}" navigator="true" locale="es" >
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdeinquilino}" update="finInquilino"/>
								</p:calendar>	
								<p:watermark for="inicioInquilino" value="Desde" />
								<p:calendar id="finInquilino" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.hastaInquilino}" navigator="true" locale="es" />
								<p:watermark for="finInquilino" value="Hasta" />
								<p:commandButton icon="ui-icon-search" value="Buscar"
									actionListener="#{cobranzaConsultaMB.buscarComprobantesInquilino}"
									update=":formConsultaComprobantes:listacomprobantespago" />
							</h:panelGrid>
						</p:outputPanel>
					</p:tab>
					<!-- ***********************************COBRADOR************************************************ -->
					<p:tab title="Cobrador">
						<p:outputPanel id="panelCobrador">
							
							<h:panelGrid columns="2"  cellpadding="5" >
	       						<h:outputText value="Fact. Electrónica (Sin Cancelación) " />
								<p:selectBooleanCheckbox value="#{cobranzaConsultaMB.selectedSiFacturacionElectronicaTabCobrador}" >
									<p:ajax  event="change" update="fechaLabel"/>
								</p:selectBooleanCheckbox>
							</h:panelGrid>
							<h:panelGrid columns="1" style="margin-bottom:10px;float: right;">
								<p:selectCheckboxMenu
									value="#{cobranzaConsultaMB.selectedComprobanteTabCobrador}"
									label="Tipo documento" style="float: right;" filter="true"
									filterMatchMode="startsWith" panelStyle="width:250px; ">
									<f:selectItem itemLabel="Boleta de Venta" itemValue="03" />
									<f:selectItem itemLabel="Factura" itemValue="01" />
									<f:selectItem itemLabel="Nota d&eacute;bito" itemValue="08" />
									<f:selectItem itemLabel="Nota cr&eacute;dito" itemValue="09" />
									<f:selectItem itemLabel="Recibo de caja" itemValue="04" />
									<f:selectItem itemLabel="Documento administrativo"
										itemValue="DA" />


								</p:selectCheckboxMenu>
								<h:panelGrid columns="1" style="margin-bottom:10px;float: right;" cellpadding="5">
									<h:panelGrid columns="2" style="margin-bottom:10px;float: right;" cellpadding="5">
										<h:outputText value="Incluir Anulados " />
										<p:selectBooleanCheckbox
											value="#{cobranzaConsultaMB.selectedSiAnuladoTabCobrador}" />
										<h:outputText value="Incluir Rechazados " />
										<p:selectBooleanCheckbox
											value="#{cobranzaConsultaMB.selectedSiRechazadoTabCobrador}" />
									</h:panelGrid>
<!-- 									<p:commandButton icon="ui-icon-document" value="Importar Doc."></p:commandButton> -->
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid style="margin-top:10px;">
								<h:outputText value="Nombre Cobrador: " />
								<p:autoComplete disabled="#{carteraMB.sicobrador}"  var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador}"
													value="#{cobranzaConsultaMB.selectedCobrador}"
													style="width:350px" converter="converterCobradorUsuario"
													completeMethod="#{carteraMB.completarUsuarioCobrador}"
													effect="fade" maxResults="10">
								</p:autoComplete>
							</h:panelGrid>
							
							<h:panelGrid id="fechaLabel">
								<h:outputText  value="Fecha Cancelación: " rendered="#{!cobranzaConsultaMB.selectedSiFacturacionElectronicaTabCobrador}"/>
								<h:outputText  value="Fecha Emisión: " rendered="#{cobranzaConsultaMB.selectedSiFacturacionElectronicaTabCobrador}" />
							</h:panelGrid>
							<h:panelGrid columns="5">
								<p:calendar id="inicio0" pattern="dd-MM-yyyy"  styleClass="styleWidthCalendar"
									value="#{cobranzaConsultaMB.desdeCobrador}" navigator="true" locale="es" >
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdecobrador}" update="fin0"/>
								</p:calendar>
								<p:watermark for="inicio0" value="Desde" />
								<p:calendar id="fin0" pattern="dd-MM-yyyy" styleClass="styleWidthCalendar"
									value="#{cobranzaConsultaMB.hastaCobrador}" navigator="true" locale="es" />
								<p:watermark for="fin0" value="Hasta" />
								<p:commandButton icon="ui-icon-search" value="Buscar"
								actionListener="#{cobranzaConsultaMB.buscarComprobantesCobrador}"
								update=":formConsultaComprobantes:listacomprobantespago,:formConsultaComprobantes:total" />
							</h:panelGrid>
								

								
							
						</p:outputPanel>
					</p:tab>
                        <!-- ************************************************************************************************************-->
                         <!-- ************************************* DOCUMENTO *********************************************************** -->
					<p:tab title="# Documento" rendered="#{!carteraMB.sicobrador}">
						<p:outputPanel id="panelNrodocumento">
							<h:panelGrid columns="2">
								<p:remoteCommand name="buscardocumento"
										actionListener="#{cobranzaConsultaMB.buscarComprobantesNroDocumento}"
										update=":formConsultaComprobantes:listacomprobantespago,:formConsultaComprobantes:total" />
									<p:inputText  value="#{cobranzaConsultaMB.nrodocumento}" style="font-size:16px;width:115px;align-text:center;"
										onkeypress="if (event.keyCode == 13) { buscardocumento(); return false; }"/>
							</h:panelGrid>
						</p:outputPanel>
					</p:tab>
					     <!-- ************************************************************************************************************-->
                         <!-- ************************************* DETRACCION *********************************************************** -->
					<p:tab title="Detracción">
						<p:outputPanel id="panelDetraccion">
						    <h:panelGrid>
								<h:outputText value="Fecha de Cancelaci&oacute;n: " />
							</h:panelGrid>
							<h:panelGrid columns="5">
						        
								<p:calendar id="iniciodetraccion" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.desdeDetraccion}" navigator="true" locale="es">
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdedetraccion}" update="findetraccion"/>
								</p:calendar>	
								
								<p:watermark for="iniciodetraccion" value="Desde" />
								<p:calendar id="findetraccion" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.hastaDetraccion}" navigator="true" locale="es" />
								<p:watermark for="findetraccion" value="Hasta" />
								<p:commandButton
									actionListener="#{cobranzaConsultaMB.buscarComprobantesDetraccion}"
									icon="ui-icon-search"
									update=":formConsultaComprobantes:listacomprobantespago,:formConsultaComprobantes:total" />
							</h:panelGrid>
						</p:outputPanel>
					</p:tab>
							     <!-- ************************************************************************************************************-->
                         <!-- ************************************* AUTODETRACCION *********************************************************** -->
					<p:tab title="Autodetracción">
						<p:outputPanel id="panelAutoDetraccion">
						    <h:panelGrid>
								<h:outputText value="Fecha de Cancelaci&oacute;n: " />
							</h:panelGrid>
							<h:panelGrid columns="5">
						        
								<p:calendar id="inicioautodetraccion" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.desdeAutoDetraccion}" navigator="true" locale="es">
								<p:ajax event="dateSelect" listener="#{cobranzaConsultaMB.setdesdeautodetraccion}" update="finautodetraccion"/>
								</p:calendar>	
								
								<p:watermark for="inicioautodetraccion" value="Desde" />
								<p:calendar id="finautodetraccion" pattern="dd-MM-yyyy" mask="true"
									value="#{cobranzaConsultaMB.hastaAutoDetraccion}" navigator="true" locale="es" />
								<p:watermark for="finautodetraccion" value="Hasta" />
								<p:commandButton
									actionListener="#{cobranzaConsultaMB.buscarComprobantesAutoDetraccion}"
									icon="ui-icon-search"
									update=":formConsultaComprobantes:listacomprobantespago,:formConsultaComprobantes:total" />
							</h:panelGrid>
						</p:outputPanel>
					</p:tab>
					
				</p:tabView>
          <!-- *****************************************************  TABLA DE LISTA DE COMPROBANTES **************************************************************************************************** -->
				<p:dataTable id="listacomprobantespago" var="cp" 
					rowKey="#{cp.idcomprobante}"
					filteredValue="#{cobranzaConsultaMB.filtrolistacomprobantespago}"
					value="#{cobranzaConsultaMB.listacomprobantespago}"
					selection="#{cobranzaConsultaMB.comprobantepago}"
					selectionMode="single" 
					emptyMessage="No se ha encontrado ningún registro" paginator="true"
					style="font-size: 11px;  margin: 10px 0px 0px 0px;text-align: center;"
					paginatorTemplate=" Ir a p&aacute;gina: {JumpToPageDropdown} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink} &nbsp;&nbsp; Registros por p&aacute;gina: {RowsPerPageDropdown}  &nbsp;  {CurrentPageReport}"
					currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} Registros"
					rowsPerPageTemplate="10,15,20" rows="10" scrollWidth="680"
					styleClass="ui-datatable-hor-scroll-horizontal2" editable="true"
					 rowStyleClass="#{cp.estado le  null ? null : (cp.estado le '1' ? null : (cp.estado le '2' ? 'red':(cp.estado le '3' ? 'orange':null )) )}">

					<p:ajax event="rowSelect"
						listener="#{cobranzaConsultaMB.obtenerDetalleComprobante}" />
					<p:ajax event="rowEdit" listener="#{cobranzaConsultaMB.actualizarComprobante}"  update=":frmMaestra:listaMensajes"/>
					<f:facet name="header">
						<p:commandLink 
							actionListener="#{cobranzaConsultaMB.vercomprobante}" 
							update=":formConsultaComprobantes:verComprobante,:formConsultaComprobantes:verNotadebito,:formConsultaComprobantes:iddlgReciboCaja" >
								<p:graphicImage width="25" height="25"
								value="../resources/images/varios/search.png"
								alt="Ver" title="Ver comprobante" />
						</p:commandLink>
<!-- 						<p:commandLink  style="margin-left:10px;" -->
<!-- 							actionListener="#{cobranzaConsultaMB.validareliminarcomprobante}" > -->
<!-- 							<p:graphicImage width="25" height="25" -->
<!-- 								value="../resources/images/varios/folder_delete.png" -->
<!-- 								alt="Eliminar" title="Eliminar comprobante" /> -->
<!-- 						</p:commandLink> -->
						<p:commandLink  style="margin-left:10px;"
							actionListener="#{cobranzaConsultaMB.validarAnularComprobante}"  update=":formConsultaComprobantes:verComprobantePagoAnular,:frmMaestra:listaMensajes">
							<p:graphicImage width="25" height="25"
								value="../resources/images/varios/folder_delete.png"
								alt="Eliminar" title="Eliminar comprobante" />
						</p:commandLink>
					
					</f:facet>
					<p:column style="width:32px">
			           <p:rowEditor />
			       </p:column>
			       
					<p:column headerText="Concepto" style="width:32px" >
						<h:outputText value="#{cp.concepto}" />
					</p:column>
					<p:inputText value="#{cp.idtipconcepto}" id="hiddenfield" type="hidden" />
					<p:inputText value="#{cp.nombrecobrador}" id="hiddenfield2" type="hidden" />
					<p:inputText value="#{cp.montodetraccion}" id="hiddenfield3" type="hidden" />
					<p:inputText value="#{cp.montoautodetraccion}" id="hiddenfield4" type="hidden" />
					<p:inputText value="#{cp.idtippago}" id="hiddenfield5" type="hidden" />
					<p:column headerText="Clave" style="width:32px">
						<h:outputText value="#{cp.claveUpa}" />
					</p:column>
					<p:column headerText="Inquilino" style="width:64px" >
						<h:outputText value="#{cp.nombreInquilino}" />
					</p:column>
					<p:column  headerText="Nº Serie" filterBy="#{cp.nroserie}" filterMatchMode="contains" style="width:32px;text-align: left;">
						<p:cellEditor>
			               <f:facet name="output"><h:outputText value="#{cp.nroserie}" /></f:facet>
			               <f:facet name="input"><p:inputText value="#{cp.nroserie}"  disabled="#{cp.sifacturacionelectronica}"/></f:facet>
           				</p:cellEditor>
					</p:column>
					

					<p:column headerText="Nº Comprobante" 
						filterBy="#{cp.nrocomprobante}" filterMatchMode="contains" sortBy="#{cp.nrocomprobante}"
						style="width:60px;text-align: left;" >
						<p:cellEditor >
			               <f:facet name="output"><h:outputText value="#{cp.nrocomprobante}" /></f:facet>
			               <f:facet name="input"><p:inputText value="#{cp.nrocomprobante}" disabled="#{cp.sifacturacionelectronica}"/></f:facet>
           				</p:cellEditor>
					</p:column>

					<p:column headerText="Tipo Comprobante" sortBy="#{cp.idtipdocu}"
						filterBy="#{cp.idtipdocu}" filterMatchMode="contains">
						<p:cellEditor>
			              <f:facet name="output"><h:outputText value="#{cp.idtipdocu}" /></f:facet>
			               <f:facet name="input"><p:inputText value="#{cp.idtipdocu}" disabled="#{cp.sifacturacionelectronica}"/></f:facet>
           				</p:cellEditor>
					</p:column>

					<p:column headerText="F. Emisión" filterBy="#{cp.fecEmision}"  sortBy="#{cp.fecEmision}"
						filterMatchMode="contains">
						<p:cellEditor>
			               <f:facet name="output">
		               						  <h:outputText value="#{cp.fecEmision}" >
		               						  <f:convertDateTime pattern="dd/MM/yyyy" />
		               						  </h:outputText>
			               </f:facet>
			               <f:facet name="input">
	               							<p:calendar  pattern="dd-MM-yyyy" mask="true"
												style="width:150px;" navigator="true" locale="es"
												value="#{cp.fecEmision}"
												readonlyInput="#{carteraMB.sicobrador}"  disabled="#{cp.sifacturacionelectronica}" />
							</f:facet>
           				</p:cellEditor>
						
					</p:column>

					<p:column headerText="F. Cancelaci&oacute;n" sortBy="#{cp.fecCancelacion}"
						filterBy="#{cp.fecCancelacion}" filterMatchMode="contains">
						
						<p:cellEditor>
			               <f:facet name="output"><h:outputText value="#{cp.fecCancelacion}" >
			               						  <f:convertDateTime pattern="dd/MM/yyyy" />
			               						  </h:outputText>
			               </f:facet>
			               <f:facet name="input"> 
		               							<p:calendar   id="con-fechacancelacion" pattern="dd-MM-yyyy" mask="true"
													style="width:150px;" navigator="true" locale="es"
													value="#{cp.fecCancelacion}"
													readonlyInput="#{carteraMB.sicobrador||!carteraMB.user_acceso_fechacanc}" styleClass="calendarClass"
													mindate="#{carteraMB.consulta_minfechacancelacion}"  />
												<p:commandLink actionListener="#{cobranzaConsultaMB.actualizarfecha}"
												update=":frmMaestra:listaMensajes,:formConsultaComprobantes:listacomprobantespago:con-fechacancelacion "
												process="@this" inmediate="true" >
															<p:graphicImage width="25" height="25"
																value="../resources/images/varios/limpiar.png" alt="Ver"
																title="Limpiar" />
												</p:commandLink>																																	
							</f:facet>
														
           				</p:cellEditor>
           				
					</p:column>
					<p:column headerText="F. Vencimiento" sortBy="#{cp.fecVencimiento}"
						filterBy="#{cp.fecCancelacion}" filterMatchMode="contains">
						
						<p:cellEditor>
			               <f:facet name="output"><h:outputText value="#{cp.fecVencimiento}" >
			               						  <f:convertDateTime pattern="dd/MM/yyyy" />
			               						  </h:outputText>
			               </f:facet>
			               <f:facet name="input">
		               							<p:calendar  pattern="dd-MM-yyyy" mask="true"
													style="width:150px;" navigator="true" locale="es"
													value="#{cp.fecVencimiento}"
													readonlyInput="#{carteraMB.sicobrador}"  disabled="#{cp.sifacturacionelectronica}"/>
							</f:facet>
           				</p:cellEditor>
					</p:column>
					                    <p:column headerText="Auto Detracción" style="width:55px" >
<!-- 						<h:outputText value="#{cp.siautodetraccion=='true'? 'S&iacute;':'No'}" /> -->
						<p:cellEditor>
			               <f:facet name="output">
			               <h:outputText value="#{cp.siautodetraccion=='true'? 'S&iacute;':'No'}" /></f:facet>
			               <f:facet name="input">
								<h:selectOneMenu disabled="#{cp.idtipdocu eq '00' or  cp.idtipdocu eq '03' or  cp.idtipdocu eq '04'or  cp.idtipdocu eq '08' or  cp.idtipdocu eq 'DA' or  cp.idtipdocu eq 'PD'}"
											value="#{cp.siautodetraccion}"
											style="width: 50x;">
<!-- 											<f:selectItems value="#{cobranzaConsultaMB.listaCobradores}" var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador.descripcion}" /> -->
											<f:selectItem  itemValue='false' itemLabel="No" /> 
											<f:selectItem  itemValue='true' itemLabel="Si" />
											
								</h:selectOneMenu>
							
							</f:facet>
           				</p:cellEditor>
					</p:column>
					<p:column headerText="Sub Total" style="text-align: right;">
						<h:outputText value="#{cp.subtotal}">
							<f:convertNumber currencySymbol="" groupingUsed="true" locale="en"
                     			maxFractionDigits="2" type="currency" />
						</h:outputText>
					</p:column>

					<p:column headerText="IGV" style="text-align: right;">
						<h:outputText value="#{cp.igv}">
							<f:convertNumber currencySymbol="" groupingUsed="true" locale="en"
                     			maxFractionDigits="2" type="currency" />
						</h:outputText>
					</p:column>

					<p:column headerText="Total" style="text-align: right;">
						<h:outputText value="#{cp.total}">
							<f:convertNumber currencySymbol="S/. " groupingUsed="true" locale="en"
                     			maxFractionDigits="2" type="currency" />
						</h:outputText>
<!-- 						<p:cellEditor> -->
<!-- 			              <f:facet name="output"><h:outputText value="#{cp.total}" /></f:facet> -->
<!-- 			               <f:facet name="input"><p:inputText value="#{cp.total}" disabled="#{cp.sifacturacionelectronica}"/></f:facet> -->
<!--            				</p:cellEditor> -->
					</p:column>
					
					<p:column headerText="Mora" style="text-align: right;">
						<h:outputText value="#{cp.mora}">
							<f:convertNumber currencySymbol="" groupingUsed="true" locale="en"
                     			maxFractionDigits="2" type="currency" />
						</h:outputText>
					</p:column>
<!-- 					<p:column headerText="Monto Detracci&oacute;n" style="text-align: right;"> -->
<!-- 						<h:outputText value="#{cp.montodetraccion!=null? cp.montodetraccion: 0.0}"> -->
<!-- 							<f:convertNumber currencySymbol="" groupingUsed="true" locale="en" -->
<!--                      			maxFractionDigits="2" type="currency" /> -->
<!-- 						</h:outputText> -->
<!-- 					</p:column> -->
					<p:column headerText="Comprobante. Ref." style="text-align: right;" filterBy="#{cp.nrocomprobanteref}"
						filterMatchMode="contains">
						<h:outputText value="#{cp.nrocomprobanteref}">
						</h:outputText>
					</p:column>
					<p:column headerText="F. Emisión ref" filterBy="#{cp.fecEmisionref}"  sortBy="#{cp.fecEmisionref}"
						filterMatchMode="contains">
						<h:outputText value="#{cp.fecEmisionref}" >
			               						  <f:convertDateTime pattern="dd/MM/yyyy" />
			               						  </h:outputText>
						
					</p:column>
					<p:column headerText="Nota D&eacute;bito Ref." style="text-align: right;" filterBy="#{cp.nronotadebitoref}"
						filterMatchMode="contains">
						<h:outputText value="#{cp.nronotadebitoref}">
						</h:outputText>
					</p:column>
				
					
					
					<p:column headerText="Nombre Cobrador" sortBy="#{cp.nombrecobrador}"
						filterBy="#{cp.nombrecobrador}" filterMatchMode="contains">
						<p:cellEditor>
			               <f:facet name="output">
			               <h:outputText value="#{cp.nombrecobrador}" /></f:facet>
			               <f:facet name="input">
								<h:selectOneMenu disabled="#{carteraMB.sicobrador}"
											value="#{cp.nombrecobrador}"
											style="width: 200px;">
											<f:selectItems value="#{cobranzaConsultaMB.listaCobradores}"
												var="cobrador" itemLabel="#{cobrador.descripcion}" itemValue="#{cobrador.descripcion}" />
								</h:selectOneMenu>
							
							</f:facet>
           				</p:cellEditor>
					</p:column>
					
					<p:column headerText="Nº de Operación"
						filterBy="#{cp.numerooperacion}" filterMatchMode="contains">
			               <p:cellEditor>
			               <f:facet name="output"><h:outputText value="#{cp.numerooperacion}" /></f:facet>
			               <f:facet name="input"><p:inputText value="#{cp.numerooperacion}" /></f:facet>
           				</p:cellEditor>
					</p:column>

					<p:column headerText="Usu. Creador" sortBy="#{cp.usrcre}" style="width:32px" >
						<h:outputText value="#{cp.usrcre}" />
					</p:column>

					<p:column headerText="F. Creación" sortBy="#{cp.feccre}" style="width:32px">
						<h:outputText value="#{cp.feccre}">
							<f:convertDateTime pattern="dd/MM/yyyy hh:mm a" timeZone="GMT-5" />
						</h:outputText>
					</p:column>
					<p:column headerText="Usu. Modicador" sortBy="#{cp.usrmod}" style="width:32px" >
						<h:outputText value="#{cp.usrmod}" />
					</p:column>

					<p:column headerText="F. Modificacion" sortBy="#{cp.fecmod}" style="width:32px">
						<h:outputText value="#{cp.fecmod}">
							<f:convertDateTime pattern="dd/MM/yyyy hh:mm a" timeZone="GMT-5"/>
						</h:outputText>
					</p:column>
					<p:column headerText="Usu. Anula Doc." sortBy="#{cp.usr_anula_documento}" style="width:32px" >
						<h:outputText value="#{cp.usr_anula_documento}" />
					</p:column>

					<p:column headerText="F. Anulación" sortBy="#{cp.fec_anula_documento}" style="width:32px">
						<h:outputText value="#{cp.fec_anula_documento}">
							<f:convertDateTime pattern="dd/MM/yyyy hh:mm a" timeZone="GMT-5"/>
						</h:outputText>
					</p:column>

				</p:dataTable>
				
				<p:outputPanel id="outoutpanelDescarga">
						<p:panel id="panelExportar" header="Exportar" style="margin-top:15px;text-align:center;" rendered="#{cobranzaConsultaMB.renderedBotonDbf}">
							<h:panelGrid columns="8" >
									<p:spacer width="20"/>
									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.Excel}" icon="ui-icon-arrowthickstop-1-s" onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false">
										 <p:graphicImage value="/resources/icons/tipoArchivo/xls.png" />
										<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" />
									</p:commandButton>
									<p:spacer width="20"/>
									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.PDF_Validacion}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false">
										 <p:graphicImage value="/resources/icons/tipoArchivo/pdf.png" />
											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" />
									</p:commandButton>
<!-- 									<p:spacer width="20"/> -->
<!-- 									<p:commandButton ajax="false" style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.DBF}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" > -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/dbf.png" /> -->
<!-- 											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
									
									<p:selectBooleanCheckbox value="#{cobranzaConsultaMB.sidetallecomprobantes}" style="margin-left:60px;"/>
									<h:outputText value="Incluir detalle de comprobante" style="margin-left:10px;font-size:11px;"/>
							</h:panelGrid>
						</p:panel>
				</p:outputPanel>
				<br />
			     <p:outputPanel id="outoutpanelDescarga2">
						<p:panel id="panelExportar2" header="Exportar Informe" style="margin-top:15px;text-align:center;" rendered="#{cobranzaConsultaMB.renderedReporteDetraccion}">
							<h:panelGrid columns="8" >
									<p:spacer width="20"/>
<!-- 									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.Excel}" icon="ui-icon-arrowthickstop-1-s" onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false"> -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/xls.png" /> -->
<!-- 										<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
									<p:spacer width="20"/>
									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.PDF_Detraccion_Validacion('DETRACCION')}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false">
										 <p:graphicImage value="/resources/icons/tipoArchivo/pdf.png" />
											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" />
									</p:commandButton>
<!-- 									<p:spacer width="20"/> -->
<!-- 									<p:commandButton ajax="false" style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.DBF}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" > -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/dbf.png" /> -->
<!-- 											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
									
									<p:selectBooleanCheckbox value="#{cobranzaConsultaMB.sidetallecomprobantes}" style="margin-left:60px;"/>
									<h:outputText value="Incluir detalle de comprobante" style="margin-left:10px;font-size:11px;"/>
							</h:panelGrid>
						</p:panel>
				</p:outputPanel>
				<br />
				<p:outputPanel id="outoutpanelDescarga3">
						<p:panel id="panelExportar3" header="Exportar Informe 2" style="margin-top:15px;text-align:center;" rendered="#{cobranzaConsultaMB.renderedReporteAutoDetraccion}">
							<h:panelGrid columns="8" >
									<p:spacer width="20"/>
<!-- 									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.Excel}" icon="ui-icon-arrowthickstop-1-s" onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false"> -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/xls.png" /> -->
<!-- 										<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
									<p:spacer width="20"/>
									<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.PDF_Detraccion_Validacion('AUTODETRACCION')}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false">
										 <p:graphicImage value="/resources/icons/tipoArchivo/pdf.png" />
											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" />
									</p:commandButton>
<!-- 									<p:spacer width="20"/> -->
<!-- 									<p:commandButton ajax="false" style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.DBF}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" > -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/dbf.png" /> -->
<!-- 											<p:fileDownload value="#{cobranzaConsultaMB.report}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
									
									<p:selectBooleanCheckbox value="#{cobranzaConsultaMB.sidetallecomprobantes}" style="margin-left:60px;"/>
									<h:outputText value="Incluir detalle de comprobante" style="margin-left:10px;font-size:11px;"/>
							</h:panelGrid>
						</p:panel>
				</p:outputPanel>
				<br />
				<!-- **************************************************************************************************************** -->									
				<br />
				<p:outputPanel id="total" >
					<h:outputText value="TOTAL: " style="font-size:25px;color:#806300;" />
					<h:outputText value="#{cobranzaConsultaMB.total}"
						style="font-size:20px;">
						<f:convertNumber currencySymbol="S/. " groupingUsed="true" locale="en"
                     			maxFractionDigits="2" type="currency" />
					</h:outputText>
					<h:outputText value="#{cobranzaConsultaMB.totaligv}" />
					<h:outputText value="#{cobranzaConsultaMB.totaldetraccion}" />
				</p:outputPanel>

				<p:confirmDialog message="¿Desea eliminar comprobante?"
					header="Eliminar" severity="alert"
					widgetVar="dlgConfirmarEliminarComprobante">
					<center>
						<p:commandButton value="&nbsp;Aceptar"
							actionListener="#{cobranzaConsultaMB.eliminarcomprobante}"
							oncomplete="dlgConfirmarEliminarComprobante.hide();"
							update=":formConsultaComprobantes:listacomprobantespago,:frmMaestra:listaMensajes"
							icon="icon-save">

						</p:commandButton>
						<p:spacer width="15" />
						<p:commandButton value="&nbsp;Cancelar"
							oncomplete="dlgConfirmarEliminarComprobante.hide()"
							icon="icon-cancel" />
					</center>
				</p:confirmDialog>
				<p:confirmDialog message="¿Desea Anular el comprobante?"
					header="Anular Comprobante" severity="alert"
					widgetVar="dlgConfirmarAnularComprobante">
					<center>
						<p:commandButton value="&nbsp;Aceptar"
							actionListener="#{cobranzaConsultaMB.anularComprobante}"
							oncomplete="dlgConfirmarAnularComprobante.hide(),dlgVerComprobantePagoAnular.hide()"
							update=":formConsultaComprobantes:listacomprobantespago,:frmMaestra:listaMensajes"
							icon="icon-save">

						</p:commandButton>
						<p:spacer width="15" />
						<p:commandButton value="&nbsp;Cancelar"
							oncomplete="dlgConfirmarAnularComprobante.hide()"
							icon="icon-cancel" />
					</center>
				</p:confirmDialog>

				<p:dialog header="Comprobante de Pago" closable="true"
					showEffect="slide" hideEffect="slide" closeOnEscape="true"
					resizable="false" widgetVar="dlgVerComprobante" width="650"
					height="500"
					style="border-width:4px;border-style:solid;  border-color:#6741e3; ">
					<div class="RegistroCuotaContrato" style="width: 600px;" >
						<div class="RegistroCuotaContratoIzq">

							<p:outputPanel id="verComprobante">


								<br></br>

								<p:panel>
									<h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Tipo documento: " />

											<h:outputText value="#{cobranzaConsultaMB.tipDocu}"
												style="width:50px;" />
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:50px;">
											<h:outputText style="color:#5a0000;" value="Tipo  Pago: " />
											<h:outputText value="#{cobranzaConsultaMB.tipPago}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:100px;">
											<h:outputText style="color:#5a0000;"
												value="Tipo de movimiento:" />
											<h:outputText value="#{cobranzaConsultaMB.tipoMovi}" />
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Serie: " />
											<p:inplace editor="true">
											<h:outputText value="#{cobranzaConsultaMB.comprobantepago.nroserie}"
												style="width:50px;" />
											</p:inplace>
										</h:panelGrid>
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Documento: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nrocomprobante}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:100px;">
											<h:outputText style="color:#5a0000;" value="Fecha Emisión: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.fecEmision}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="3" style="margin-left:20px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Cobrador:" />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nombrecobrador}"
												style="width:300px" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:120px;">
											<h:outputText style="color:#5a0000;" value="Observaciones:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.comprobantepago.observacion}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:60px;"
											rendered="#{!cobranzaConsultaMB.condicion=='Contrato'}">
											<h:outputText style="color:#5a0000;" value="Período:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.periodo}" />
										</h:panelGrid>
									</h:panelGrid>

								</p:panel>

								<br />
								<br />

								<p:dataTable var="cuota"
									value="#{cobranzaConsultaMB.listaDetalleComprobante}"
									style="text-align:center;font-size:11px;"
									emptyMessage="No se registro cuota">

									<p:column headerText="A&ntilde;o">
										<h:outputText value="#{cuota.anio}" />
									</p:column>

									<p:column headerText="Nº Cuota">
										<h:outputText value="#{cuota.mes}" />
									</p:column>

									<p:column headerText="Monto">
										<h:outputText value="#{cuota.montosoles}" />
									</p:column>

									<p:column headerText="Mora">
										<h:outputText value="#{cuota.mora}" />
									</p:column>

								</p:dataTable>


								<h:panelGrid columns="2"
									style="margin-left:445px;text-align:right;margin-top:20px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.subtotal}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="IGV: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.igv}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{cobranzaConsultaMB.comprobantepago.total}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

								</h:panelGrid>
							</p:outputPanel>
						</div>
					</div>

				</p:dialog>
                <p:dialog header="Anulaci&oacute;n de Comprobante " closable="false"
					showEffect="slide" hideEffect="slide" closeOnEscape="true"
					resizable="false" widgetVar="dlgVerComprobantePagoAnular" width="650"
					height="520"
					style="border-width:9px;border-style:solid;  border-color:#666666; ">
					<div class="RegistroCuotaContrato" style="width: 600px;" >
						<div class="RegistroCuotaContratoIzq">

							<p:outputPanel id="verComprobantePagoAnular">


								<br></br>

								<p:panel>
									<h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Tipo documento: " />

											<h:outputText value="#{cobranzaConsultaMB.tipDocu}"
												style="width:50px;" />
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:50px;">
											<h:outputText style="color:#5a0000;" value="Tipo  Pago: " />
											<h:outputText value="#{cobranzaConsultaMB.tipPago}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:100px;">
											<h:outputText style="color:#5a0000;"
												value="Tipo de movimiento:" />
											<h:outputText value="#{cobranzaConsultaMB.tipoMovi}" />
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Serie: " />
											<p:inplace editor="true">
											<h:outputText value="#{cobranzaConsultaMB.comprobantepago.nroserie}"
												style="width:50px;" />
											</p:inplace>
										</h:panelGrid>
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Documento: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nrocomprobante}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:100px;">
											<h:outputText style="color:#5a0000;" value="Fecha Emisión: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.fecEmision}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="3" style="margin-left:20px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Cobrador:" />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nombrecobrador}"
												style="width:300px" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:120px;">
											<h:outputText style="color:#5a0000;" value="Observaciones:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.comprobantepago.observacion}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:60px;"
											rendered="#{!cobranzaConsultaMB.condicion=='Contrato'}">
											<h:outputText style="color:#5a0000;" value="Período:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.periodo}" />
										</h:panelGrid>
									</h:panelGrid>

								</p:panel>

								<br />
								<br />

								<p:dataTable var="cuota"
									value="#{cobranzaConsultaMB.listaDetalleComprobante}"
									style="text-align:center;font-size:11px;"
									emptyMessage="No se registro cuota">

									<p:column headerText="A&ntilde;o">
										<h:outputText value="#{cuota.anio}" />
									</p:column>

									<p:column headerText="Nº Cuota">
										<h:outputText value="#{cuota.mes}" />
									</p:column>

									<p:column headerText="Monto">
										<h:outputText value="#{cuota.montosoles}" />
									</p:column>

									<p:column headerText="Mora">
										<h:outputText value="#{cuota.mora}" />
									</p:column>

								</p:dataTable>


								<h:panelGrid columns="2"
									style="margin-left:445px;text-align:right;margin-top:20px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.subtotal}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="IGV: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.igv}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{cobranzaConsultaMB.comprobantepago.total}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

								</h:panelGrid>
								<h:panelGrid columns="1" style="margin-left:20px;">
<!-- 												<h:panelGrid columns="1" style="margin-left:20px;"> -->
<!-- 													<h:outputText value="Observación:" /> -->
<!-- 													<p:inputText style="width:300px;" -->
<!-- 														value="#{carteraMB.comprobantepago.glosario}" /> -->
<!-- 												</h:panelGrid> -->
											<h3>Motivo de Anulación del Documento</h3>
											<p:inputTextarea id="motivodocumento" rows="2" cols="76" counter="display" value="#{cobranzaConsultaMB.descripcionbaja}"
												maxlength="150" counterTemplate="{0} caracteres." onkeyup="validarTexto(this)" onkeypress=" return validarTextoNumero(event);"
												autoResize="false"  />

											<h:outputText id="display" />
										</h:panelGrid>
<!-- 								<p:panel > -->
																		
												<div style="margin-top:10px;">						
													<center>					
														<p:commandButton style="background: #36A6DE; color: white;padding: 4px 0px;border-radius: 7px; ;border: 0px;margin: 0px;"					                			  															 								 
																		 actionListener="#{cobranzaConsultaMB.validarAnularDocumento}"
																		 icon="ui-icon-info"
																		 update=":frmMaestra:listaMensajes"
																		 value="Anular">
														</p:commandButton>
														
														<p:spacer width="20"/>
														
														<p:commandButton style="background: #36A6DE; color: white;padding: 4px 0px;border-radius: 7px; ;border: 0px;margin: 0px;"
																		 actionListener="#{cobranzaConsultaMB.cancelarAnularDocumento}"	 
																		 icon="ui-icon-info"
																		 onclick="dlgVerComprobantePagoAnular.hide()"
																		 update=":formConsultaComprobantes:verComprobantePagoAnular"
																		 value="Cancelar">	
														</p:commandButton>		
													</center>
												</div>
						
<!-- 									</p:panel> -->
							</p:outputPanel>
						</div>
					</div>

				</p:dialog>
				<p:dialog header="#{cobranzaConsultaMB.comprobantepago.tip_docu}" closable="true" showEffect="slide"
					hideEffect="slide" closeOnEscape="true" resizable="false"
					widgetVar="dlgVerNotadebito" width="650" height="600"
					style="border-width:9px;border-style:solid;  border-color:#ffc600; ">
					<div class="RegistroCuotaContrato" style="width: 600px;">
						<div class="RegistroCuotaContratoIzq">

							<p:outputPanel id="verNotadebito">

								<br></br>

								<p:panel>

									<h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Serie: " />

											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nroserie}"
												style="width:50px;" />
										</h:panelGrid>
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Nro Documento: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nrocomprobante}" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:100px;">
											<h:outputText style="color:#5a0000;" value="Fecha Emisión: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.fecEmision}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
										</h:panelGrid>
									</h:panelGrid>

									<h:panelGrid columns="3" style="margin-left:20px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Cobrador:" />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nombrecobrador}"
												style="width:300px" />
										</h:panelGrid>

										<h:panelGrid columns="1" style="margin-left:120px;">
											<h:outputText style="color:#5a0000;" value="Observaciones:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.comprobantepago.observacion}" />
										</h:panelGrid>

									</h:panelGrid>

								</p:panel>

								<br />

								<h:panelGrid columns="2"
									style="margin-left:445px;text-align:right;margin-top:20px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.subtotal}" />

									<h:outputLabel value="IGV: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.igv}" />

									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{cobranzaConsultaMB.comprobantepago.total}" />

								</h:panelGrid>
							</p:outputPanel>
						</div>
					</div>

				</p:dialog>
				<p:dialog header="#{cobranzaConsultaMB.comprobantepago.tip_docu}" closable="true" id="iddlgReciboCaja"
					showEffect="slide" hideEffect="slide" closeOnEscape="true"
					resizable="false" widgetVar="dlgVerReciboCaja" width="650"
					height="500"
					style="border-width:4px;border-style:solid;  border-color:#6741e3; ">
					<div class="RegistroCuotaContrato" style="width: 600px;" >
						<div class="RegistroCuotaContratoIzq">

							<p:outputPanel id="verReciboCaja">


								<br></br>

								<p:panel>
									<h:panelGrid columns="3"
										style="margin-left:20px; margin-top:10px;">
										<h:panelGrid columns="1">
											<h:outputText style="color:#5a0000;" value="Tipo de Documento: " />

											<h:outputText value="#{cobranzaConsultaMB.tipDocu}"
												style="width:50px;" />
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:50px;" >
											<h:outputText style="color:#5a0000;" value="Nro. Serie: " />
											<p:inplace editor="true">
											<h:outputText value="#{cobranzaConsultaMB.comprobantepago.nroserie}"
												style="width:50px;" />
											</p:inplace>
										</h:panelGrid>
										<h:panelGrid columns="1" style="margin-left:100px;" >
											<h:outputText style="color:#5a0000;" value="Nro. Documento: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nrocomprobante}" />
										</h:panelGrid>
										
<!-- 										<h:panelGrid columns="1" style="margin-left:50px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Tipo  Pago: " /> -->
<!-- 											<h:outputText value="#{cobranzaConsultaMB.tipPago}" /> -->
<!-- 										</h:panelGrid> -->

<!-- 										<h:panelGrid columns="1" style="margin-left:100px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" -->
<!-- 												value="Tipo de movimiento:" /> -->
<!-- 											<h:outputText value="#{cobranzaConsultaMB.tipoMovi}" /> -->
<!-- 										</h:panelGrid> -->
									</h:panelGrid>
									<h:panelGrid  columns="2"
										style="margin-left:20px; margin-top:10px;">
									    <h:outputText style="color:#5a0000;" value="Señor(es): " />
									    <h:outputText value="#{cobranzaConsultaMB.comprobantepago.nombreInquilino}"
												style="width:50px;" />
									</h:panelGrid>
									<h:panelGrid  columns="2"
										style="margin-left:20px; margin-top:10px;">
									    <h:outputText style="color:#5a0000;" value="Dirección: " />
									    <h:outputText value="#{cobranzaConsultaMB.comprobantepago.direccion}"
												style="width:50px;" />
									</h:panelGrid>
											
									<h:panelGrid  columns="4"
										style="margin-left:20px; margin-top:10px;">
										
									    <h:outputText style="color:#5a0000;" value="RUC/DNI: " />
									    <h:outputText value="#{cobranzaConsultaMB.comprobantepago.dnirucpagante==null? 'SN':cobranzaConsultaMB.comprobantepago.dnirucpagante}"
												style="width:50px;margin: 0px 0px 0px 5px;" />
<!-- 									</h:panelGrid> -->
<!-- 									<h:panelGrid  columns="2" style="margin-left:20px; margin-top:10px;"> -->
									    <h:outputText style="color:#5a0000;margin: 0px 0px 0px 130px;" value="Tipo de Pago: " />
									    <h:outputText value="#{cobranzaConsultaMB.comprobantepago.tip_pago}"
												style="width:50px;" />
									
								    </h:panelGrid>
								    <h:panelGrid  columns="2"
										style="margin-left:20px; margin-top:10px;" >
									   	 <h:outputText style="color:#5a0000;" value="Fecha Emisión: " />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.fecEmision}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
									</h:panelGrid>
									<h:panelGrid columns="2" style="width: 383px; margin: 4px 0px 0px 20px;">
											<h:outputText style="color:#5a0000;" value="Cobrador:" />
											<h:outputText
												value="#{cobranzaConsultaMB.comprobantepago.nombrecobrador}"
												style="width:300px ;margin-right: 150px; " />
										</h:panelGrid>
<!-- 										<h:panelGrid  columns="2" -->
<!-- 										style="margin-left:20px; margin-top:10px;"> -->
<!-- 									    <h:outputText style="color:#5a0000;" value="upa: " /> -->
<!-- 									    <h:outputText value="#{cobranzaConsultaMB.comprobantepago.claveUpa}" -->
<!-- 												style="width:50px;" /> -->
<!-- 									</h:panelGrid> -->
									
										

<!-- 									<h:panelGrid columns="4" -->
<!-- 										style="margin-left:20px; margin-top:10px;"> -->
<!-- 										<h:panelGrid columns="1"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Nro Serie: " /> -->
<!-- 											<p:inplace editor="true"> -->
<!-- 											<h:outputText value="#{cobranzaConsultaMB.comprobantepago.nroserie}" -->
<!-- 												style="width:50px;" /> -->
<!-- 											</p:inplace> -->
<!-- 										</h:panelGrid> -->
<!-- 										<h:panelGrid columns="1"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Nro Documento: " /> -->
<!-- 											<h:outputText -->
<!-- 												value="#{cobranzaConsultaMB.comprobantepago.nrocomprobante}" /> -->
<!-- 										</h:panelGrid> -->

<!-- 										<h:panelGrid columns="1" style="margin-left:100px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Fecha Emisión: " /> -->
<!-- 											<h:outputText -->
<!-- 												value="#{cobranzaConsultaMB.comprobantepago.fecEmision}"> -->
<!-- 												<f:convertDateTime pattern="dd/MM/yyyy" /> -->
<!-- 											</h:outputText> -->
<!-- 										</h:panelGrid> -->
<!-- 									</h:panelGrid> -->

									

								</p:panel>

								<br />
								<br />

								<p:dataTable var="cp"
									value="#{cobranzaConsultaMB.comprobantepago}"
									style="text-align:center;font-size:11px;"
									emptyMessage="No se registro cuota">

									<p:column headerText="Cod">
										<h:outputText value="-" />
									</p:column>

									<p:column headerText="Cant">
										<h:outputText value="1" />
									</p:column>

									<p:column headerText="Descripcion Item">
										<h:outputText value="#{cp.observacion}" />
									</p:column>

									<p:column headerText="Total">
										<h:outputText value="#{cp.total}" />
									</p:column>

								</p:dataTable>
                               <h:panelGrid columns="4"
										style="margin-left:20px; margin-top:10px;">
                                <h:panelGrid columns="1"
									style="width: 408px; margin: 0px 0px 0px 17px;">
									
											<h:outputText style="color:#5a0000;" value="Observaciones:" />
											<h:outputText style="width:215px;"
												value="#{cobranzaConsultaMB.comprobantepago.glosario}" />
										
									
									
								</h:panelGrid>
								<h:panelGrid columns="2"
									style="margin-left:25px;text-align:right;margin-top:20px;width: 137px;">

									<h:outputLabel value="Subtotal: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.subtotal}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="IGV: " />
									<h:outputLabel style="width:80px;"
										value="#{cobranzaConsultaMB.comprobantepago.igv}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

									<h:outputLabel value="TOTAL: " style="font-size:16px;" />
									<h:outputLabel style="width:80px;font-size:16px;"
										value="#{cobranzaConsultaMB.comprobantepago.total}" ><f:convertNumber minFractionDigits="2" /></h:outputLabel>

								</h:panelGrid>
								</h:panelGrid>
								<br></br>
<!-- 								<p:panel> -->
<!-- 								 <h:panelGrid columns="3" style="margin-left:20px; margin-top:10px;"> -->
<!-- 										<h:panelGrid columns="1" style="width: 180px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Cobrador:" /> -->
<!-- 											<h:outputText -->
<!-- 												value="#{cobranzaConsultaMB.comprobantepago.nombrecobrador}" -->
<!-- 												style="width:300px ; " /> -->
<!-- 										</h:panelGrid> -->

<!-- 										<h:panelGrid columns="1" style="width: 180px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Usuario Creador:" /> -->
<!-- 											<h:outputText style="width:215px;" -->
<!-- 												value="#{cobranzaConsultaMB.comprobantepago.usrcre}" /> -->
<!-- 										</h:panelGrid> -->

<!-- 										<h:panelGrid columns="1" style="width: 180px;"> -->
<!-- 											<h:outputText style="color:#5a0000;" value="Fecha Creación:" /> -->
<!-- 											<h:outputText style="width:215px;" -->
<!-- 												value="#{cobranzaConsultaMB.comprobantepago.feccre}" > -->
<!-- 												<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss " timeZone="GMT-5"/> -->
<!-- 												</h:outputText> -->
<!-- 										</h:panelGrid> -->
<!-- 									</h:panelGrid> -->
								
<!-- 								</p:panel> -->
								
						<p:panel id="panelExportarRecibo" header="Exportar Recibo de Caja" style="margin-top:15px;text-align:center;" rendered="#{cobranzaConsultaMB.comprobantepago.sidocumento==null? 'false':cobranzaConsultaMB.comprobantepago.sidocumento}" >
							<center>
							<h:panelGrid columns="8" >
									<p:spacer width="20"/>
									<p:commandButton style="width:20px;height:20px;" title="Descargar Documento" process="@this"
					                                 ajax="false"  icon="ui-icon-arrowthickstop-1-s" >
										 <p:graphicImage value="/resources/icons/tipoArchivo/pdf.png" />
											<p:fileDownload value="#{cobranzaConsultaMB.PDFRecibo()}"  />
									</p:commandButton>
<!-- 								<p:commandButton style="width:20px;height:20px;" actionListener="#{cobranzaConsultaMB.PDF_Validacion}"  icon="ui-icon-arrowthickstop-1-s"   onclick="PrimeFaces.monitorDownload(start, stop)" ajax="false"> -->
<!-- 										 <p:graphicImage value="/resources/icons/tipoArchivo/pdf.png" /> -->
<!-- 											<p:fileDownload value="#{cobranzaConsultaMB.PDFRecibos()}" contentDisposition="attachment" /> -->
<!-- 									</p:commandButton> -->
								
							</h:panelGrid>
							</center>
						</p:panel>
				
							</p:outputPanel>
						</div>
					</div>
			    </p:dialog>
				
			</h:form>

		</div>

	</div>
    <script type="text/javascript">

		function validardniruc() {
            
			var valor = jQuery("input[name='frmRegistroPagoOtro:tipodoc_dniruc']:checked").attr("value");
			var numero = document.getElementById('frmRegistroPagoOtro:num_dniruc_pagante').value;
			var cant = document.getElementById('frmRegistroPagoOtro:num_dniruc_pagante').value.length +1;
			if (!/^([0-9])*$/.test(numero)){
				//alert("El valor " + numero + " no es un número");
				document.getElementById('frmRegistroPagoOtro:num_dniruc_pagante').value = numero.substring(0,numero.length-1);
				return false;
				}else{
			if(valor==1){
				if(cant>8){
					return false;
				}else{
						return true
					}	
			}else{
				if(cant>11){
					return false;
				}else{
						return true
					}	

				}
				}
		}
		function validardnirucNC() {
            
			var valor = jQuery("input[name='frmRegistroPagoOtroNotaCredito:tipodoc_dniruc']:checked").attr("value");
			var numero = document.getElementById('frmRegistroPagoOtroNotaCredito:num_dniruc_pagante').value;
			var cant = document.getElementById('frmRegistroPagoOtroNotaCredito:num_dniruc_pagante').value.length +1;
			if (!/^([0-9])*$/.test(numero)){
				//alert("El valor " + numero + " no es un número");
				document.getElementById('frmRegistroPagoOtroNotaCredito:num_dniruc_pagante').value = numero.substring(0,numero.length-1);
				return false;
				}else{
			if(valor==1){
				if(cant>8){
					return false;
				}else{
						return true
					}	
			}else{
				if(cant>11){
					return false;
				}else{
						return true
					}	

				}
				}
		}
		function validardnirucND() {
            
			var valor = jQuery("input[name='frmRegistroPagoOtroNotaDebito:tipodoc_dniruc']:checked").attr("value");
			var numero = document.getElementById('frmRegistroPagoOtroNotaDebito:num_dniruc_pagante').value;
			var cant = document.getElementById('frmRegistroPagoOtroNotaDebito:num_dniruc_pagante').value.length +1;
			if (!/^([0-9])*$/.test(numero)){
				//alert("El valor " + numero + " no es un número");
				document.getElementById('frmRegistroPagoOtroNotaDebito:num_dniruc_pagante').value = numero.substring(0,numero.length-1);
				return false;
				}else{
			if(valor==1){
				if(cant>8){
					return false;
				}else{
						return true
					}	
			}else{
				if(cant>11){
					return false;
				}else{
						return true
					}	

				}
				}
		}
	</script>
	<script type="text/javascript">
				  //<![CDATA[
		     	function convertir_a_mayuscula(elemento) {
					//alert("metodo");
					elemento.value = elemento.value.toUpperCase();
	 		   		//e.value = e.value.toUpperCase();
				}
		     	function validarKey(evt){
		     	    
		     	    var code = (evt.which) ? evt.which : evt.keyCode;
		     	    
		     	    if(code==8) { // backspace.
		     	      return true;
		     	    } else if(code>=48 && code<=57) { // is a number.
		     	      return true;
		     	    } else{ // other keys.
		     	      return false;
		     	    }
		     	}
		     	 function validarTexto(e){
			     	    var valor = e.value.replace(/^-*/, '');
			     	    e.value = valor;
			     	 }
		     	 function validarTextoNumero(evt){
						var code = (evt.which) ? evt.which : evt.keyCode;
			     	    
			     	    if(code==8) { // backspace.
			     	      return true;
			     	    } else if((code>=48 && code<=57) ||!((code != 32) && (code != 45) && (code < 65) || (code > 90) && (code < 97) || (code > 122))){ // is a number. and  leter
			     	      return true;
			     	    } else{ // other keys.
			     	      return false;
			     	    }
			     	 }

		     
		     	
		  	   //]]>
				


			</script>
	
</h:body>
</html>